------market/chat/templates/chat/chat.html------
<!-- En: market/chat/templates/chat/chat.html -->
{% extends 'marketplace/base.html' %}
{% load static %}

{% block extra_css %}
<style>
.hero-chatbot {
    background: #000;
    color: white;
    padding: 3rem 0 2rem;
    text-align: center;
}

.chat-badge-main {
    background: #fff;
    color: #000;
    padding: 0.6rem 1.5rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.85rem;
    display: inline-block;
    margin-bottom: 1rem;
}

.chat-features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 2rem 0;
}

.chat-feature {
    text-align: center;
    padding: 1.5rem 1rem;
}

.chat-feature-icon {
    font-size: 2rem;
    margin-bottom: 0.75rem;
    color: #fff;
}

.chat-feature h4 {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.chat-feature p {
    font-size: 0.85rem;
    opacity: 0.8;
    margin: 0;
}

.chat-container {
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    overflow: hidden;
    margin: 2rem 0;
}

.chat-header {
    background: #000;
    color: white;
    padding: 1.25rem 1.5rem;
}

.chat-messages {
    height: 300px;
    overflow-y: auto;
    padding: 1rem;
    background: #f8f9fa;
}

.chat-message {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.user-message {
    flex-direction: row-reverse;
}

.message-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 0.8rem;
    flex-shrink: 0;
}

.user-message .message-avatar {
    background: #666;
}

.message-content {
    background: white;
    padding: 0.75rem 1rem;
    border-radius: 12px;
    max-width: 70%;
    border: 1px solid #e5e5e5;
}

.user-message .message-content {
    background: #000;
    color: white;
}

.message-time {
    font-size: 0.7rem;
    color: #666;
    text-align: right;
    margin-top: 0.25rem;
}

.user-message .message-time {
    color: rgba(255,255,255,0.7);
}

.chat-input-container {
    padding: 1rem 1.5rem;
    background: white;
    border-top: 1px solid #e5e5e5;
}

.quick-questions {
    margin-top: 1rem;
}

.quick-question {
    background: #f8f9fa;
    border: 1px solid #e5e5e5;
    border-radius: 16px;
    padding: 0.4rem 0.8rem;
    font-size: 0.8rem;
    margin: 0.2rem;
}

.quick-question:hover {
    background: #000;
    color: white;
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Chatbot -->
<section class="hero-chatbot">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="chat-badge-main">
                    <i class="fas fa-robot me-1"></i>
                    ASISTENTE IA
                </div>
                <h1 class="h2 fw-bold mb-2">Masibot</h1>
                <p class="lead mb-3">Tu asistente especializado en gaming</p>
                
                <div class="chat-features">
                    <div class="chat-feature">
                        <div class="chat-feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h4>Respuesta R√°pida</h4>
                        <p>Resuelve consultas al instante</p>
                    </div>
                    <div class="chat-feature">
                        <div class="chat-feature-icon">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <h4>Experto Gaming</h4>
                        <p>Conoce todos los productos</p>
                    </div>
                    <div class="chat-feature">
                        <div class="chat-feature-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h4>24/7 Disponible</h4>
                        <p>Ayuda cuando la necesites</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Chatbot -->
<section class="main-content py-4">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="chat-container">
                    <!-- Header -->
                    <div class="chat-header">
                        <div class="d-flex align-items-center">
                            <div class="chat-avatar me-3">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div>
                                <h4 class="mb-0 h5">Masibot</h4>
                                <small class="opacity-75">
                                    {% if gemini_available %}
                                    <i class="fas fa-circle text-success me-1"></i>Conectado
                                    {% else %}
                                    <i class="fas fa-circle text-warning me-1"></i>Modo B√°sico
                                    {% endif %}
                                </small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Mensajes -->
                    <div class="chat-messages" id="chat-messages">
                        <div class="chat-message">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                <div class="message-text">
                                    <strong>¬°Hola! Soy Masibot</strong><br>
                                    Tu asistente de Masivo Tech. 
                                    {% if gemini_available %}
                                    ¬øEn qu√© puedo ayudarte con perif√©ricos gaming?
                                    {% else %}
                                    Puedo ayudarte con informaci√≥n de productos.
                                    {% endif %}
                                </div>
                                <div class="message-time">Ahora</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Input -->
                    <div class="chat-input-container">
                        <form id="chat-form" class="d-flex gap-2">
                            {% csrf_token %}
                            <input type="hidden" id="session-id" value="{{ session_id }}">
                            <input type="text" id="message-input" class="form-control" 
                                   placeholder="Escribe tu mensaje..." 
                                   {% if not gemini_available %}disabled{% endif %}>
                            <button type="submit" class="btn btn-dark" {% if not gemini_available %}disabled{% endif %}>
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </form>
                        
                        <!-- Preguntas R√°pidas -->
                        <div class="quick-questions mt-2">
                            <small class="text-muted d-block mb-1">Preguntas frecuentes:</small>
                            <div class="d-flex flex-wrap gap-1">
                                <button type="button" class="btn quick-question" data-question="Qu√© teclados tienen?">
                                    Teclados
                                </button>
                                <button type="button" class="btn quick-question" data-question="Hacen env√≠os?">
                                    Env√≠os
                                </button>
                                <button type="button" class="btn quick-question" data-question="Aceptan cuotas?">
                                    Cuotas
                                </button>
                                <button type="button" class="btn quick-question" data-question="Qu√© garant√≠a tienen?">
                                    Garant√≠a
                                </button>
                            </div>
                        </div>

                        {% if not gemini_available %}
                        <div class="alert alert-warning mt-2 mb-0 py-2">
                            <small>
                                <i class="fas fa-exclamation-triangle me-1"></i>
                                <strong>Modo b√°sico:</strong> Configura GEMINI_API_KEY para IA completa
                            </small>
                        </div>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Soporte -->
                <div class="text-center mt-3">
                    <small class="text-muted">
                        ¬øNecesitas ayuda humana? 
                        <a href="https://wa.me/541112345678" target="_blank" class="text-dark">
                            <i class="fab fa-whatsapp me-1"></i>WhatsApp
                        </a>
                    </small>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
// JavaScript del chatbot (igual que antes pero compacto)
document.addEventListener('DOMContentLoaded', function() {
    const chatForm = document.getElementById('chat-form');
    const messageInput = document.getElementById('message-input');
    const chatMessages = document.getElementById('chat-messages');
    const sessionId = document.getElementById('session-id').value;
    
    // Preguntas r√°pidas
    document.querySelectorAll('.quick-question').forEach(button => {
        button.addEventListener('click', function() {
            const question = this.getAttribute('data-question');
            messageInput.value = question;
            sendMessage(question);
        });
    });
    
    // Enviar mensaje
    chatForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const message = messageInput.value.trim();
        if (message) {
            sendMessage(message);
            messageInput.value = '';
        }
    });
    
    async function sendMessage(message) {
        addMessage(message, 'user');
        showTypingIndicator();
        setInputsState(false);
        
        try {
            const response = await fetch('{% url "chat_api" %}', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': '{{ csrf_token }}'
                },
                body: JSON.stringify({ 
                    message: message,
                    session_id: sessionId
                })
            });
            
            const data = await response.json();
            removeTypingIndicator();
            
            if (data.response) {
                addMessage(data.response, 'bot');
            }
        } catch (error) {
            removeTypingIndicator();
            addMessage('Error de conexi√≥n. Intenta nuevamente.', 'bot');
        } finally {
            setInputsState(true);
        }
    }
    
    function addMessage(text, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `chat-message ${sender}-message`;
        
        const now = new Date();
        const timeString = now.toLocaleTimeString('es-AR', { 
            hour: '2-digit', 
            minute: '2-digit' 
        });
        
        messageDiv.innerHTML = `
            <div class="message-avatar">
                <i class="fas fa-${sender === 'bot' ? 'robot' : 'user'}"></i>
            </div>
            <div class="message-content">
                <div class="message-text">${text}</div>
                <div class="message-time">${timeString}</div>
            </div>
        `;
        
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    function showTypingIndicator() {
        const typingDiv = document.createElement('div');
        typingDiv.className = 'chat-message';
        typingDiv.id = 'typing-indicator';
        typingDiv.innerHTML = `
            <div class="message-avatar">
                <i class="fas fa-robot"></i>
            </div>
            <div class="message-content">
                <div class="text-muted">
                    <i class="fas fa-ellipsis-h"></i> Escribiendo...
                </div>
            </div>
        `;
        chatMessages.appendChild(typingDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    function removeTypingIndicator() {
        const typingIndicator = document.getElementById('typing-indicator');
        if (typingIndicator) typingIndicator.remove();
    }
    
    function setInputsState(enabled) {
        messageInput.disabled = !enabled;
        document.querySelector('#chat-form button').disabled = !enabled;
        document.querySelectorAll('.quick-question').forEach(btn => {
            btn.disabled = !enabled;
        });
        if (enabled) messageInput.focus();
    }
});
</script>
{% endblock %}

------market/marketplace/templates/admin/marketplace/dashboard.html------
{% extends "admin/base_site.html" %}
{% load static %}

{% block extrastyle %}
<style>
:root {
    --dashboard-primary: #4361ee;
    --dashboard-success: #4cc9f0;
    --dashboard-warning: #f72585;
    --dashboard-info: #7209b7;
    --dashboard-dark: #3a0ca3;
}

.dashboard {
    background: #f8f9fa;
    min-height: 100vh;
    padding: 20px;
}

.dashboard-header {
    background: white;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    margin-bottom: 25px;
    border-left: 5px solid var(--dashboard-primary);
}

.dashboard-title {
    color: var(--dashboard-primary);
    font-size: 2rem;
    font-weight: 700;
    margin: 0;
}

.dashboard-subtitle {
    color: #6c757d;
    font-size: 1.1rem;
    margin: 0;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin-bottom: 25px;
}

.stat-card {
    background: white;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border-top: 4px solid;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.stat-card.primary { border-top-color: var(--dashboard-primary); }
.stat-card.success { border-top-color: var(--dashboard-success); }
.stat-card.warning { border-top-color: var(--dashboard-warning); }
.stat-card.info { border-top-color: var(--dashboard-info); }
.stat-card.dark { border-top-color: var(--dashboard-dark); }

.stat-icon {
    font-size: 2.5rem;
    margin-bottom: 15px;
}

.stat-card.primary .stat-icon { color: var(--dashboard-primary); }
.stat-card.success .stat-icon { color: var(--dashboard-success); }
.stat-card.warning .stat-icon { color: var(--dashboard-warning); }
.stat-card.info .stat-icon { color: var(--dashboard-info); }
.stat-card.dark .stat-icon { color: var(--dashboard-dark); }

.stat-number {
    font-size: 2.2rem;
    font-weight: 700;
    margin: 10px 0;
    color: #2c3e50;
}

.stat-label {
    color: #7f8c8d;
    font-size: 1rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.charts-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 25px;
    margin-bottom: 25px;
}

.chart-card {
    background: white;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.chart-title {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 20px;
    color: #2c3e50;
    border-bottom: 2px solid #ecf0f1;
    padding-bottom: 10px;
}

.sales-chart {
    height: 300px;
    position: relative;
}

.quick-actions {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-top: 25px;
}

.action-btn {
    background: white;
    border: 2px solid #e9ecef;
    padding: 20px;
    border-radius: 12px;
    text-align: center;
    text-decoration: none;
    color: #495057;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.action-btn:hover {
    border-color: var(--dashboard-primary);
    color: var(--dashboard-primary);
    transform: translateY(-3px);
    text-decoration: none;
}

.action-icon {
    font-size: 2rem;
}

.tables-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
}

.table-card {
    background: white;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.status-badge {
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
}

.status-pending { background: #fff3cd; color: #856404; }
.status-processing { background: #cce7ff; color: #004085; }
.status-shipped { background: #d1ecf1; color: #0c5460; }
.status-delivered { background: #d4edda; color: #155724; }
.status-cancelled { background: #f8d7da; color: #721c24; }

.stock-warning { background: #fff3cd; color: #856404; }
.stock-danger { background: #f8d7da; color: #721c24; }

/* Responsive */
@media (max-width: 1200px) {
    .charts-grid,
    .tables-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .dashboard {
        padding: 10px;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="dashboard">
    <!-- Header -->
    <div class="dashboard-header">
        <h1 class="dashboard-title">üéÆ Dashboard MasivoTech</h1>
        <p class="dashboard-subtitle">Panel de control y an√°lisis de tu tienda gaming</p>
    </div>

    <!-- Estad√≠sticas Principales -->
    <div class="stats-grid">
        <div class="stat-card primary">
            <div class="stat-icon">üí∞</div>
            <div class="stat-number">${{ total_revenue|floatformat:2 }}</div>
            <div class="stat-label">Ingresos Totales</div>
        </div>
        
        <div class="stat-card success">
            <div class="stat-icon">üì¶</div>
            <div class="stat-number">{{ total_orders }}</div>
            <div class="stat-label">Total √ìrdenes</div>
        </div>
        
        <div class="stat-card info">
            <div class="stat-icon">üéØ</div>
            <div class="stat-number">{{ total_products }}</div>
            <div class="stat-label">Productos</div>
        </div>
        
        <div class="stat-card warning">
            <div class="stat-icon">‚ö†Ô∏è</div>
            <div class="stat-number">{{ low_stock_products }}</div>
            <div class="stat-label">Productos con Stock Bajo</div>
        </div>
        
        <div class="stat-card dark">
            <div class="stat-icon">‚ùå</div>
            <div class="stat-number">{{ out_of_stock_products }}</div>
            <div class="stat-label">Productos Agotados</div>
        </div>
    </div>

    <!-- Gr√°ficos y Tablas -->
    <div class="charts-grid">
        <!-- Gr√°fico de Ventas -->
        <div class="chart-card">
            <h3 class="chart-title">üìä Ventas de los √öltimos 7 D√≠as</h3>
            <div class="sales-chart">
                <canvas id="salesChart"></canvas>
            </div>
        </div>

        <!-- √ìrdenes por Estado -->
        <div class="chart-card">
            <h3 class="chart-title">üìà √ìrdenes por Estado</h3>
            <div style="height: 300px;">
                <canvas id="statusChart"></canvas>
            </div>
        </div>
    </div>

    <!-- Acciones R√°pidas -->
    <div class="chart-card">
        <h3 class="chart-title">‚ö° Acciones R√°pidas</h3>
        <div class="quick-actions">
            <a href="/admin/marketplace/product/" class="action-btn">
                <div class="action-icon">‚ûï</div>
                <div>Agregar Producto</div>
            </a>
            <a href="/admin/marketplace/order/" class="action-btn">
                <div class="action-icon">üìã</div>
                <div>Ver √ìrdenes</div>
            </a>
            <a href="/admin/marketplace/product/?stock__lt=10" class="action-btn">
                <div class="action-icon">üìâ</div>
                <div>Stock Bajo</div>
            </a>
            <a href="/admin/marketplace/order/?status=pending" class="action-btn">
                <div class="action-icon">‚è≥</div>
                <div>√ìrdenes Pendientes</div>
            </a>
        </div>
    </div>

    <!-- Tablas de Informaci√≥n -->
    <div class="tables-grid">
        <!-- Productos M√°s Vendidos -->
        <div class="table-card">
            <h3 class="chart-title">üèÜ Productos M√°s Vendidos</h3>
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Categor√≠a</th>
                            <th>Vendidos</th>
                            <th>Ingresos</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for product in top_products %}
                        <tr>
                            <td>{{ product.product__name|truncatewords:3 }}</td>
                            <td>{{ product.product__category }}</td>
                            <td><strong>{{ product.total_sold }}</strong></td>
                            <td>${{ product.revenue|floatformat:2 }}</td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="4" class="text-center text-muted">No hay datos de ventas</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Alertas de Stock -->
        <div class="table-card">
            <h3 class="chart-title">üîî Alertas de Inventario</h3>
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Stock</th>
                            <th>Estado</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for product in low_stock_products_list %}
                        <tr>
                            <td>{{ product.name }}</td>
                            <td><strong>{{ product.stock }}</strong></td>
                            <td>
                                {% if product.stock == 0 %}
                                <span class="status-badge stock-danger">AGOTADO</span>
                                {% else %}
                                <span class="status-badge stock-warning">STOCK BAJO</span>
                                {% endif %}
                            </td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="3" class="text-center text-muted">No hay alertas de stock</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extrajs %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Datos de ventas
    const salesData = {{ sales_json|safe }};
    
    // Gr√°fico de ventas
    const salesCtx = document.getElementById('salesChart').getContext('2d');
    new Chart(salesCtx, {
        type: 'bar',
        data: {
            labels: salesData.map(item => item.day_name),
            datasets: [{
                label: 'Ventas ($)',
                data: salesData.map(item => item.total),
                backgroundColor: 'rgba(67, 97, 238, 0.8)',
                borderColor: 'rgba(67, 97, 238, 1)',
                borderWidth: 2,
                borderRadius: 8,
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            return `Ventas: $${context.raw.toFixed(2)}`;
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        callback: function(value) {
                            return '$' + value;
                        }
                    }
                }
            }
        }
    });

    // Gr√°fico de estados de √≥rdenes
    const statusData = {{ orders_by_status|safe }};
    const statusCtx = document.getElementById('statusChart').getContext('2d');
    
    const statusColors = {
        'pending': '#ffc107',
        'processing': '#17a2b8', 
        'shipped': '#20c997',
        'delivered': '#28a745',
        'cancelled': '#dc3545'
    };
    
    new Chart(statusCtx, {
        type: 'doughnut',
        data: {
            labels: statusData.map(item => {
                const statusMap = {
                    'pending': 'Pendiente',
                    'processing': 'Procesando',
                    'shipped': 'Enviado', 
                    'delivered': 'Entregado',
                    'cancelled': 'Cancelado'
                };
                return statusMap[item.status] || item.status;
            }),
            datasets: [{
                data: statusData.map(item => item.count),
                backgroundColor: statusData.map(item => statusColors[item.status] || '#6c757d'),
                borderWidth: 2,
                borderColor: '#fff'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom'
                }
            }
        }
    });
});
</script>
{% endblock %}

------market/marketplace/templates/marketplace/base.html------
<!DOCTYPE html>
<html lang="es" class="masivotech-theme">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Masivo Tech - Perif√©ricos Gaming üéÆ{% endblock %}</title>
    
    <!-- Meta Tags para SEO -->
    <meta name="description" content="Tienda oficial de Masivo Tech. Los mejores perif√©ricos gaming: teclados mec√°nicos, mouses gaming, auriculares y monitores. Env√≠os a todo el pa√≠s.">
    <meta name="keywords" content="gaming, perif√©ricos, teclados, mouses, auriculares, monitores, masivo tech">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- CSS Modularizado -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="{% static 'css/layout.css' %}">
    <link rel="stylesheet" href="{% static 'css/components.css' %}">
    <link rel="stylesheet" href="{% static 'css/product.css' %}">
    <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
    
    <!-- CSS Extra por p√°gina -->
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- üîî Notificaciones Toast -->
    <div id="toast-container" class="toast-container"></div>

    <!-- üü° NAVBAR PRINCIPAL -->
    <header class="main-header">
        <div class="container">
            <nav class="navbar">
                <!-- Logo -->
                <a href="{% url 'index' %}" class="nav-brand">
                    masivotech
                </a>

                <!-- Navegaci√≥n Desktop -->
                <ul class="nav-links">
                    <li class="nav-item">
                        <a href="{% url 'index' %}" class="nav-link">Inicio</a>
                    </li>
                    
                    <!-- Dropdown de Productos -->
                    <li class="nav-item dropdown">
                        <a href="{% url 'product_list' %}" class="nav-link dropdown-toggle">
                            Productos <i class="fas fa-chevron-down ms-1" style="font-size: 0.7rem;"></i>
                        </a>
                        <div class="dropdown-menu">
                            <a href="{% url 'product_list' %}?category=teclados" class="dropdown-item">
                                <i class="fas fa-keyboard me-2"></i>Teclados Mec√°nicos
                            </a>
                            <a href="{% url 'product_list' %}?category=mouses" class="dropdown-item">
                                <i class="fas fa-mouse me-2"></i>Mouses Gaming
                            </a>
                            <a href="{% url 'product_list' %}?category=auriculares" class="dropdown-item">
                                <i class="fas fa-headset me-2"></i>Auriculares
                            </a>
                            <a href="{% url 'product_list' %}?category=monitores" class="dropdown-item">
                                <i class="fas fa-desktop me-2"></i>Monitores Gaming
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="{% url 'product_list' %}" class="dropdown-item">
                                <i class="fas fa-th-large me-2"></i>Todos los Productos
                            </a>
                        </div>
                    </li>
                    
                    <!-- Nuevos enlaces -->
                    <li class="nav-item">
                        <a href="{% url 'ofertas' %}" class="nav-link">Ofertas</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'contacto' %}" class="nav-link">Contacto</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'chat' %}" class="nav-link">
                            Chatbot
                        </a>
                    </li>
                </ul>

                <!-- Acciones de Usuario -->
                <div class="nav-actions">
                    <!-- B√∫squeda -->
                    <button class="nav-action-btn search-toggle" aria-label="Buscar">
                        <i class="fas fa-search"></i>
                    </button>

                    <!-- Usuario -->
                    {% if user.is_authenticated %}
                    <div class="user-dropdown">
                        <button class="nav-action-btn user-toggle" aria-label="Mi cuenta">
                            <i class="fas fa-user"></i>
                        </button>
                        <!-- Men√∫ dropdown del usuario -->
                        <div class="dropdown-menu user-dropdown-menu">
                            <a class="dropdown-item" href="{% url 'profile' %}">
                                <i class="fas fa-user me-2"></i>Mi Perfil
                            </a>
                            <a class="dropdown-item" href="{% url 'order_history' %}">
                                <i class="fas fa-shopping-bag me-2"></i>Mis Pedidos
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#" data-bs-target="#logoutModal">
                                <i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesi√≥n
                            </a>
                        </div>
                    </div>
                    {% else %}
                    <a href="{% url 'account_login' %}" class="nav-action-btn" aria-label="Iniciar sesi√≥n">
                        <i class="fas fa-user"></i>
                    </a>
                    {% endif %}

                    <!-- Carrito -->
                    <button class="nav-action-btn cart-toggle" aria-label="Carrito de compras">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-badge">{{ cart_total_items|default:0 }}</span>
                    </button>

                    <!-- Men√∫ Hamburguesa - Solo Mobile -->
                    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Abrir men√∫">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- üì± PANEL LATERAL - MEN√ö M√ìVIL -->
    <div class="mobile-panel" id="mobilePanel">
        <div class="mobile-panel-header">
            <h3 class="mobile-panel-title">Men√∫</h3>
            <button class="mobile-panel-close" id="mobilePanelClose" aria-label="Cerrar men√∫">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-panel-content">
            <ul class="mobile-nav-links">
                <li class="mobile-nav-item">
                    <a href="{% url 'index' %}" class="mobile-nav-link">
                        Inicio
                    </a>
                </li>
                <li class="mobile-nav-item">
                    <button class="mobile-nav-link mobile-dropdown-toggle">
                        <span>Productos</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="mobile-dropdown-menu" id="mobileProductsDropdown">
                        <a href="{% url 'product_list' %}?category=teclados" class="mobile-dropdown-item">
                            <i class="fas fa-keyboard me-2"></i>Teclados Mec√°nicos
                        </a>
                        <a href="{% url 'product_list' %}?category=mouses" class="mobile-dropdown-item">
                            <i class="fas fa-mouse me-2"></i>Mouses Gaming
                        </a>
                        <a href="{% url 'product_list' %}?category=auriculares" class="mobile-dropdown-item">
                            <i class="fas fa-headset me-2"></i>Auriculares
                        </a>
                        <a href="{% url 'product_list' %}?category=monitores" class="mobile-dropdown-item">
                            <i class="fas fa-desktop me-2"></i>Monitores Gaming
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="{% url 'product_list' %}" class="mobile-dropdown-item">
                            <i class="fas fa-th-large me-2"></i>Todos los Productos
                        </a>
                    </div>
                </li>
                <li class="mobile-nav-item">
                    <a href="{% url 'ofertas' %}" class="mobile-nav-link">
                        Ofertas
                    </a>
                </li>
                <li class="mobile-nav-item">
                    <a href="{% url 'envios_info' %}" class="mobile-nav-link">
                        Env√≠os
                    </a>
                </li>
                <li class="mobile-nav-item">
                    <a href="{% url 'contacto' %}" class="mobile-nav-link">
                        Contacto
                    </a>
                </li>
                <li class="mobile-nav-item">
                    <a href="{% url 'chat' %}" class="mobile-nav-link">
                        Chatbot
                    </a>
                </li>
                
                <!-- SECCI√ìN DE USUARIO EN MOBILE -->
                {% if user.is_authenticated %}
                <li class="mobile-nav-item">
                    <button class="mobile-nav-link mobile-dropdown-toggle">
                        <span><i class="fas fa-user me-2"></i>Mi Cuenta</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="mobile-dropdown-menu" id="mobileUserDropdown">
                        <a href="{% url 'profile' %}" class="mobile-dropdown-item">
                            <i class="fas fa-user me-2"></i>Mi Perfil
                        </a>
                        <a href="{% url 'order_history' %}" class="mobile-dropdown-item">
                            <i class="fas fa-shopping-bag me-2"></i>Mis Pedidos
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="mobile-dropdown-item" data-bs-target="#logoutModal">
                            <i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesi√≥n
                        </a>
                    </div>
                </li>
                {% else %}
                <li class="mobile-nav-item">
                    <a href="{% url 'account_login' %}" class="mobile-nav-link">
                        <i class="fas fa-sign-in-alt me-2"></i>Iniciar Sesi√≥n
                    </a>
                </li>
                {% endif %}
            </ul>
        </div>
    </div>

    <!-- üõí PANEL LATERAL - CARRITO -->

<div class="cart-panel" id="cartPanel">
    <div class="cart-panel-header">
        <h3 class="cart-panel-title">Carrito (<span id="cartPanelCount">{{ cart_total_items|default:0 }}</span>)</h3>
        <button class="mobile-panel-close" id="cartPanelClose" aria-label="Cerrar carrito">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="cart-panel-content" id="cartPanelContent">
        {% if cart %}
            <div class="cart-panel-items">
                {% for item in cart %}
                <div class="cart-panel-item" id="cartItem{{ item.product.id }}">
                    <div class="cart-item-image">
                        <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}">
                    </div>
                    
                    <div class="cart-item-info">
                        <h6 class="cart-item-title">{{ item.product.name }}</h6>
                        <p class="cart-item-price">${{ item.price }} c/u</p>
                        
                        <div class="cart-item-controls">
                            <!-- Botones con data attributes para AJAX -->
                            <div class="quantity-controls">
                                <button type="button" 
                                        class="quantity-btn cart-minus" 
                                        data-product-id="{{ item.product.id }}"
                                        {% if item.quantity <= 1 %}disabled{% endif %}>
                                    <i class="fas fa-minus"></i>
                                </button>
                                <span class="quantity-input" id="quantity{{ item.product.id }}">{{ item.quantity }}</span>
                                <button type="button" 
                                        class="quantity-btn cart-plus" 
                                        data-product-id="{{ item.product.id }}">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            
                            <span class="cart-item-total" id="total{{ item.product.id }}">${{ item.total_price }}</span>
                            
                            <button type="button" 
                                    class="btn btn-sm btn-outline-danger cart-remove" 
                                    data-product-id="{{ item.product.id }}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <div class="cart-panel-total">
                <div class="d-flex justify-content-between fw-bold">
                    <span>Total:</span>
                    <span class="text-primary" id="cartPanelTotal">${{ cart.get_total_price }}</span>
                </div>
            </div>
        {% else %}
            <div class="cart-panel-empty">
                <div class="empty-cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <h4 class="empty-cart-title">Tu carrito est√° vac√≠o</h4>
                <p class="empty-cart-text">Agrega productos para empezar tu compra</p>
            </div>
        {% endif %}
    </div>
    <div class="cart-panel-actions">
        <a href="{% url 'cart_detail' %}" class="btn-explore">
            Ver Carrito Completo
        </a>
    </div>
</div>

    <!-- üé≠ OVERLAY PARA PANELES -->
    <div class="panel-overlay" id="panelOverlay"></div>

    <!-- üö™ Modal de Confirmaci√≥n de Logout - VERSI√ìN CORREGIDA -->
    <div class="modal" id="logoutModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Cerrar Sesi√≥n</h5>
                    <button type="button" class="btn-close" aria-label="Close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body text-center">
                    <div class="modal-icon">
                        <i class="fas fa-sign-out-alt"></i>
                    </div>
                    <p class="modal-text">¬øEst√°s seguro de que deseas cerrar sesi√≥n?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary cancel-btn">
                        <i class="fas fa-times me-2"></i>Cancelar
                    </button>
                    <form method="post" action="{% url 'account_logout' %}" class="d-inline">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-danger">
                            <i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesi√≥n
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- üéØ Contenido Principal -->
    <main class="main-content">
        <!-- Mensajes del Sistema -->
        {% if messages %}
        <div class="container">
            <div class="messages-container">
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible">
                    <div class="alert-content">
                        <i class="fas fa-{% if message.tags == 'success' %}check-circle{% elif message.tags == 'error' %}exclamation-triangle{% else %}info-circle{% endif %} me-2"></i>
                        <span>{{ message }}</span>
                    </div>
                    <button type="button" class="alert-close" data-bs-dismiss="alert" aria-label="Cerrar">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        <!-- Bloque de Contenido -->
        {% block content %}
        <!-- El contenido espec√≠fico de cada p√°gina va aqu√≠ -->
        {% endblock %}
    </main>

    <!-- üè™ Footer Principal -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <!-- Informaci√≥n de la Empresa -->
                <div class="footer-section">
                    <h5 class="footer-title">MASIVO TECH</h5>
                    <p class="footer-text">
                        Tu tienda de confianza para perif√©ricos gaming. 
                        Calidad, precio y servicio en un solo lugar.
                    </p>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>

                <!-- Enlaces de Productos -->
                <div class="footer-section">
                    <h5 class="footer-title">PRODUCTOS</h5>
                    <ul class="footer-links">
                        <li><a href="{% url 'product_list' %}?category=teclados">Teclados Mec√°nicos</a></li>
                        <li><a href="{% url 'product_list' %}?category=mouses">Mouses Gaming</a></li>
                        <li><a href="{% url 'product_list' %}?category=auriculares">Auriculares</a></li>
                        <li><a href="{% url 'product_list' %}?category=monitores">Monitores Gaming</a></li>
                    </ul>
                </div>

                <!-- Soporte y Ayuda -->
                <div class="footer-section">
                    <h5 class="footer-title">AYUDA</h5>
                    <ul class="footer-links">
                        <li><a href="{% url 'chat' %}">Chat de Soporte</a></li>
                        <li><a href="{% url 'contacto' %}">Contacto</a></li>
                        <li><a href="{% url 'envios_info' %}">Informaci√≥n de Env√≠os</a></li>
                    </ul>
                </div>

                <!-- Informaci√≥n de Contacto -->
                <div class="footer-section">
                    <h5 class="footer-title">CONTACTO</h5>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt me-2"></i>
                            <span>Buenos Aires, Argentina</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone me-2"></i>
                            <span>+54 11 1234-5678</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope me-2"></i>
                            <span>info@masivotech.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-clock me-2"></i>
                            <span>Lun-Vie: 9:00 - 18:00</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- L√≠nea Inferior -->
            <div class="footer-bottom">
                <div class="footer-bottom-content">
                    <div class="copyright">
                        <p>&copy; 2024 Masivo Tech. Todos los derechos reservados.</p>
                    </div>
                    
                    <div class="payment-methods">
                        <span class="payment-text">M√©todos de pago:</span>
                        <div class="payment-icons">
                            <i class="fab fa-cc-visa" title="Visa"></i>
                            <i class="fab fa-cc-mastercard" title="Mastercard"></i>
                            <i class="fab fa-cc-amex" title="American Express"></i>
                            <i class="fab fa-cc-paypal" title="PayPal"></i>
                            <i class="fas fa-money-bill-wave" title="Efectivo"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- üìú Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- JavaScript Modularizado -->
    {% load static %}
<!-- üìú Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- JavaScript Modularizado -->
{% load static %}
<script src="{% static 'js/utils.js' %}"></script>
<script src="{% static 'js/navigation.js' %}"></script>
<script src="{% static 'js/offers.js' %}"></script>   
<script src="{% static 'js/main.js' %}"></script>
<script src="{% static 'js/cart.js' %}"></script>
<script src="{% static 'js/cart-panel-simple.js' %}"></script> 
    <!-- Scripts Extra por p√°gina -->
    {% block scripts %}{% endblock %}

    <!-- Inicializaci√≥n de la Aplicaci√≥n -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üéÆ Masivo Tech - Listo para gaming!');
        });
    </script>
</body>
</html>

------market/marketplace/templates/marketplace/cart.html------
{% extends 'marketplace/base.html' %}
{% load static %}

{% block extra_css %}
<style>
.cart-header {
    background: var(--primary-gray);
    padding: 2rem 0;
    margin-bottom: 2rem;
}

.cart-item {
    background: white;
    border-radius: var(--border-radius-lg);
    padding: 1.5rem;
    margin-bottom: 1rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s ease;
}

.cart-item:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}

.cart-item-image {
    width: 80px;
    height: 80px;
    border-radius: var(--border-radius);
    overflow: hidden;
    background: var(--primary-gray);
}

.cart-item-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.quantity-controls {
    display: flex;
    align-items: center;
    border: 1px solid var(--border-light);
    border-radius: var(--border-radius);
    overflow: hidden;
}

.quantity-btn {
    background: none;
    border: none;
    padding: 0.5rem 0.75rem;
    cursor: pointer;
    color: var(--text-dark);
    transition: background-color 0.2s ease;
}

.quantity-btn:hover {
    background: var(--primary-gray);
}

.quantity-input {
    width: 50px;
    border: none;
    text-align: center;
    font-size: 1rem;
    padding: 0.5rem;
    background: transparent;
}

.quantity-input:focus {
    outline: none;
    background: var(--primary-gray);
}

.summary-card {
    background: white;
    border-radius: var(--border-radius-lg);
    padding: 1.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 2rem;
}

.shipping-section {
    background: var(--primary-gray);
    border-radius: var(--border-radius);
    padding: 1rem;
    margin: 1rem 0;
}

.empty-cart {
    text-align: center;
    padding: 4rem 2rem;
}

.empty-cart-icon {
    font-size: 4rem;
    color: var(--text-light);
    margin-bottom: 1rem;
}

.stock-warning {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    color: #856404;
    padding: 0.75rem;
    border-radius: var(--border-radius);
    margin-bottom: 1rem;
}
</style>
{% endblock %}

{% block content %}
<!-- üéØ Encabezado del Carrito -->
<div class="cart-header">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center">
            <h1 class="page-title">
                <i class="fas fa-shopping-cart me-2"></i>
                Tu Carrito de Compras
            </h1>
            
            {% if cart %}
            <form method="post" action="{% url 'clear_cart' %}" class="d-inline">
                {% csrf_token %}
                <button type="submit" 
                        class="btn btn-outline-danger btn-sm" 
                        onclick="return confirm('¬øEst√°s seguro de que quieres vaciar el carrito?')">
                    <i class="fas fa-trash me-1"></i>
                    Vaciar Carrito
                </button>
            </form>
            {% endif %}
        </div>
    </div>
</div>

<div class="container">
    {% if cart %}
    <div class="row">
        <!-- üì¶ Lista de Productos -->
        <div class="col-lg-8 mb-4">
            {% if cart_has_exceeded_stock %}
            <div class="stock-warning">
                <i class="fas fa-exclamation-triangle me-2"></i>
                Algunos productos exceden el stock disponible. Por favor, ajusta las cantidades.
            </div>
            {% endif %}

            {% for item in cart %}
            <div class="cart-item">
                <div class="row align-items-center">
                    <!-- Imagen del Producto -->
                    <div class="col-3 col-md-2">
                        <div class="cart-item-image">
                            <img src="{{ item.product.image.url }}" 
                                 alt="{{ item.product.name }}"
                                 class="img-fluid">
                        </div>
                    </div>
                    
                    <!-- Informaci√≥n del Producto -->
                    <div class="col-5 col-md-4">
                        <h5 class="cart-item-title mb-1">
                            <a href="{% url 'product_detail' item.product.id %}">
                                {{ item.product.name }}
                            </a>
                        </h5>
                        <p class="cart-item-price mb-1">
                            ${{ item.price }} c/u
                        </p>
                        <div class="cart-item-stock">
                            {% if item.product.stock > 10 %}
                            <span class="text-success">
                                <i class="fas fa-check-circle me-1"></i>
                                En stock
                            </span>
                            {% elif item.product.stock > 0 %}
                            <span class="text-warning">
                                <i class="fas fa-exclamation-triangle me-1"></i>
                                {{ item.product.stock }} disponibles
                            </span>
                            {% else %}
                            <span class="text-danger">
                                <i class="fas fa-times-circle me-1"></i>
                                Agotado
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Control de Cantidad -->
                    <div class="col-4 col-md-3">
                        <form method="post" action="{% url 'update_cart' item.product.id %}" class="quantity-form">
                            {% csrf_token %}
                            <div class="quantity-controls">
                                <button type="button" 
                                        class="quantity-btn" 
                                        data-action="decrease"
                                        aria-label="Disminuir cantidad">
                                    <i class="fas fa-minus"></i>
                                </button>
                                <input type="text" 
                                       name="quantity" 
                                       value="{% if item.quantity > item.product.stock %}{{ item.product.stock }}{% else %}{{ item.quantity }}{% endif %}" 
                                       class="quantity-input"
                                       pattern="[0-9]*" 
                                       inputmode="numeric"
                                       aria-label="Cantidad de {{ item.product.name }}">
                                <button type="button" 
                                        class="quantity-btn" 
                                        data-action="increase"
                                        aria-label="Aumentar cantidad">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </form>
                        
                        {% if item.quantity > item.product.stock %}
                        <small class="text-danger mt-1 d-block">
                            <i class="fas fa-exclamation-circle me-1"></i>
                            M√°ximo disponible: {{ item.product.stock }}
                        </small>
                        {% endif %}
                    </div>
                    
                    <!-- Precio Total y Acciones -->
                    <div class="col-12 col-md-3 mt-2 mt-md-0">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="cart-item-total">
                                <strong class="text-primary">${{ item.total_price }}</strong>
                            </div>
                            <form method="post" action="{% url 'remove_from_cart' item.product.id %}">
                                {% csrf_token %}
                                <button type="submit" 
                                        class="btn btn-outline-danger btn-sm" 
                                        aria-label="Eliminar {{ item.product.name }} del carrito">
                                    <i class="fas fa-times"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <!-- üí∞ Resumen del Pedido -->
        <div class="col-lg-4">
            <div class="summary-card">
                <h5 class="summary-title">
                    <i class="fas fa-receipt me-2"></i>
                    Resumen del Pedido
                </h5>
                
                <hr>
                
                <!-- Items del Resumen -->
                <div class="summary-items">
                    {% for item in cart %}
                    <div class="summary-item d-flex justify-content-between mb-2">
                        <span class="summary-item-name">
                            {{ item.product.name|truncatewords:2 }} x{{ item.quantity }}
                        </span>
                        <span class="summary-item-price">${{ item.total_price }}</span>
                    </div>
                    {% endfor %}
                </div>
                
                <hr>
                
                <!-- Subtotal -->
                <div class="summary-subtotal d-flex justify-content-between fw-bold mb-3">
                    <span>Subtotal:</span>
                    <span class="text-primary">${{ cart.get_total_price }}</span>
                </div>

                <!-- üöö C√°lculo de Env√≠o -->
                <div class="shipping-section">
                    <h6 class="shipping-title mb-3">
                        <i class="fas fa-truck me-2"></i>
                        Calcular Env√≠o
                    </h6>
                    
                    <form method="post" action="{% url 'calculate_shipping' %}" id="shipping-form">
                        {% csrf_token %}
                        <div class="input-group mb-2">
                            <input type="text" 
                                   name="postal_code" 
                                   placeholder="C√≥digo postal (ej: 1425)" 
                                   pattern="[0-9]{4}" 
                                   title="4 d√≠gitos" 
                                   required
                                   value="{{ postal_code }}"
                                   class="form-control form-control-sm"
                                   aria-label="C√≥digo postal para calcular env√≠o">
                            <button type="submit" class="btn btn-primary btn-sm">
                                Calcular
                            </button>
                        </div>
                    </form>
                    
                    {% if shipping_price > 0 %}
                    <div class="shipping-result mt-3 p-3 bg-light rounded">
                        <div class="d-flex justify-content-between small mb-1">
                            <span>
                                <i class="fas fa-map-marker-alt me-1"></i>
                                Env√≠o a {{ postal_code }}:
                            </span>
                            <span>${{ shipping_price }}</span>
                        </div>
                        <hr class="my-2">
                        <div class="d-flex justify-content-between fw-bold">
                            <span>Total con env√≠o:</span>
                            <span class="text-success">${{ total_with_shipping }}</span>
                        </div>
                    </div>
                    {% endif %}
                </div>

                <!-- Total Final -->
                <div class="summary-total d-flex justify-content-between fw-bold fs-5 mt-3 pt-3 border-top">
                    <span>Total:</span>
                    <span class="text-primary">${{ total_with_shipping }}</span>
                </div>
                
                {% if cart_has_exceeded_stock %}
                <!-- Advertencia de Stock -->
                <div class="alert alert-warning mt-3">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    Ajusta las cantidades antes de continuar
                </div>
                <button class="btn btn-secondary w-100 mt-3" disabled>
                    <i class="fas fa-lock me-2"></i>
                    Proceder al Pago
                </button>
                {% else %}
                <!-- üéØ Bot√≥n de Mercado Pago -->
                <div class="mercado-pago-section mt-4">
                    <div class="text-center mb-3">
                        <p class="text-muted small mb-2">Pago seguro con</p>
                        <h5 class="text-primary mb-0">
                            <i class="fas fa-bolt me-2"></i>
                            Mercado Pago
                        </h5>
                    </div>
                    
                    <button onclick="payWithMercadoPago()" 
                            class="btn mercado-pago-btn w-100" 
                            id="mercadoPagoBtn"
                            aria-label="Pagar ${{ total_with_shipping }} con Mercado Pago">
                        <div class="d-flex align-items-center justify-content-center">
                            <i class="fas fa-lock me-2"></i>
                            <span>Pagar ${{ total_with_shipping }}</span>
                        </div>
                    </button>
                    
                    <div class="text-center mt-2">
                        <small class="text-muted">
                            <i class="fas fa-shield-alt me-1"></i>
                            Pago 100% seguro ¬∑ Tarjetas, efectivo y m√°s
                        </small>
                    </div>
                </div>
                {% endif %}
                
                <!-- Continuar Comprando -->
                <a href="{% url 'product_list' %}" class="btn btn-outline-primary w-100 mt-3">
                    <i class="fas fa-shopping-bag me-2"></i>
                    Seguir Comprando
                </a>
            </div>
        </div>
    </div>
    {% else %}
    <!-- üõí Carrito Vac√≠o -->
    <div class="empty-cart">
        <div class="empty-cart-icon">
            <i class="fas fa-shopping-cart"></i>
        </div>
        <h3 class="empty-cart-title">Tu carrito est√° vac√≠o</h3>
        <p class="empty-cart-text">
            Descubre nuestros incre√≠bles perif√©ricos gaming
        </p>
        <div class="empty-cart-actions">
            <a href="{% url 'product_list' %}" class="btn btn-primary btn-lg">
                <i class="fas fa-gamepad me-2"></i>
                Explorar Productos
            </a>
            <a href="{% url 'ofertas' %}" class="btn btn-warning btn-lg">
                <i class="fas fa-fire me-2"></i>
                Ver Ofertas
            </a>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}

{% block scripts %}
<script>
// Funci√≥n para pagar con Mercado Pago
async function payWithMercadoPago() {
    const button = document.getElementById('mercadoPagoBtn');
    const originalContent = button.innerHTML;
    
    // Mostrar estado de loading
    button.disabled = true;
    button.innerHTML = `
        <div class="d-flex align-items-center justify-content-center">
            <div class="spinner-border spinner-border-sm text-white me-2" role="status">
                <span class="visually-hidden">Cargando...</span>
            </div>
            <span>Procesando pago...</span>
        </div>
    `;
    
    try {
        const response = await fetch('{% url "create_payment" %}', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}'
            },
            body: JSON.stringify({})
        });
        
        if (!response.ok) {
            throw new Error('Error en la respuesta del servidor');
        }
        
        const data = await response.json();
        
        if (data.init_point) {
            // Redirigir a Mercado Pago
            console.log('Redirigiendo a Mercado Pago:', data.init_point);
            window.location.href = data.init_point;
        } else {
            throw new Error(data.error || 'Error desconocido al crear el pago');
        }
        
    } catch (error) {
        console.error('Error al procesar el pago:', error);
        MasivoTechUtils.showToast(
            'Error al procesar el pago: ' + error.message + '\n\nPor favor, intenta nuevamente.', 
            'error'
        );
        
        // Restaurar bot√≥n
        button.disabled = false;
        button.innerHTML = originalContent;
    }
}

// Inicializar controles de cantidad
document.addEventListener('DOMContentLoaded', function() {
    // Botones de cantidad +/-
    document.querySelectorAll('.quantity-btn').forEach(button => {
        button.addEventListener('click', function() {
            const action = this.getAttribute('data-action');
            const input = this.closest('.quantity-controls').querySelector('.quantity-input');
            const form = this.closest('.quantity-form');
            
            if (!input || !form) return;
            
            let value = parseInt(input.value) || 0;
            const max = parseInt(input.max) || 999;
            const min = parseInt(input.min) || 1;
            
            if (action === 'increase' && value < max) {
                value++;
            } else if (action === 'decrease' && value > min) {
                value--;
            } else {
                return;
            }
            
            input.value = value;
            
            // Enviar formulario autom√°ticamente
            form.submit();
        });
    });
    
    // Env√≠o autom√°tico al cambiar cantidad manualmente
    document.querySelectorAll('.quantity-input').forEach(input => {
        input.addEventListener('change', function() {
            this.closest('form').submit();
        });
    });
    
    // Mejorar formulario de env√≠o
    const shippingForm = document.getElementById('shipping-form');
    if (shippingForm) {
        shippingForm.addEventListener('submit', function(e) {
            const postalCode = this.querySelector('input[name="postal_code"]').value;
            if (!/^\d{4}$/.test(postalCode)) {
                e.preventDefault();
                MasivoTechUtils.showToast('Por favor, ingresa un c√≥digo postal v√°lido de 4 d√≠gitos', 'error');
            }
        });
    }
});
</script>

<style>
.mercado-pago-btn {
    background: linear-gradient(135deg, #009ee3 0%, #00b0ea 100%);
    border: none;
    color: white;
    font-weight: 600;
    font-size: 1.1rem;
    padding: 1rem 1.5rem;
    border-radius: var(--border-radius-lg);
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 158, 227, 0.3);
}

.mercado-pago-btn:hover:not(:disabled) {
    background: linear-gradient(135deg, #0080c0 0%, #0099d4 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 158, 227, 0.4);
}

.mercado-pago-btn:disabled {
    background: #6c757d;
    transform: none;
    box-shadow: none;
}

.mercado-pago-section {
    background: linear-gradient(135deg, #f8fdff 0%, #f0f9ff 100%);
    border-radius: var(--border-radius-lg);
    padding: 1.5rem;
    border: 2px solid #e3f2fd;
}
</style>
{% endblock %}

------market/marketplace/templates/marketplace/cart_panel_content.html------
{% if cart %}
    <div class="cart-panel-items">
        {% for item in cart %}
        <div class="cart-panel-item" id="cartItem{{ item.product.id }}">
            <div class="cart-item-image">
                <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}">
            </div>
            
            <div class="cart-item-info">
                <div class="cart-item-header">
                    <h6 class="cart-item-title">{{ item.product.name }}</h6>
                    <div class="cart-item-price">${{ item.price }} c/u</div>
                </div>
                
                <div class="cart-item-controls">
                    <!-- Botones con data attributes para AJAX -->
                    <div class="quantity-controls-compact">
                        <button type="button" 
                                class="quantity-btn-compact cart-minus" 
                                data-product-id="{{ item.product.id }}"
                                {% if item.quantity <= 1 %}disabled{% endif %}>
                            <i class="fas fa-minus"></i>
                        </button>
                        <span class="quantity-input-compact" id="quantity{{ item.product.id }}">{{ item.quantity }}</span>
                        <button type="button" 
                                class="quantity-btn-compact cart-plus" 
                                data-product-id="{{ item.product.id }}">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    
                    <span class="cart-item-total" id="total{{ item.product.id }}">${{ item.total_price }}</span>
                    
                    <button type="button" 
                            class="btn btn-sm btn-outline-danger cart-remove" 
                            data-product-id="{{ item.product.id }}">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                
                <!-- Advertencia de stock -->
                {% if item.quantity > item.product.stock %}
                <div class="stock-warning-compact">
                    <i class="fas fa-exclamation-triangle"></i>
                    M√°ximo disponible: {{ item.product.stock }}
                </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    
    <div class="cart-panel-total">
        <div class="d-flex justify-content-between fw-bold fs-6">
            <span>Total:</span>
            <span class="text-primary" id="cartPanelTotal">${{ cart_total_price }}</span>
        </div>
    </div>
{% else %}
    <div class="cart-panel-empty">
        <div class="empty-cart-icon">
            <i class="fas fa-shopping-cart"></i>
        </div>
        <h4 class="empty-cart-title">Tu carrito est√° vac√≠o</h4>
        <p class="empty-cart-text">Agrega productos para empezar tu compra</p>
    </div>
{% endif %}

------market/marketplace/templates/marketplace/contacto.html------
{% extends 'marketplace/base.html' %}
{% load static %}

{% block extra_css %}
<style>
.hero-contacto {
    background: #000;
    color: white;
    padding: 3rem 0 2rem;
    text-align: center;
}

.contact-badge {
    background: #fff;
    color: #000;
    padding: 0.6rem 1.5rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.85rem;
    display: inline-block;
    margin-bottom: 1rem;
}

.contact-info-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 8px;
    transition: background-color 0.2s ease;
}

.contact-info-item:hover {
    background: #f8f9fa;
}

.contact-icon {
    width: 40px;
    height: 40px;
    background: #000;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    flex-shrink: 0;
}

.contact-details h6 {
    margin-bottom: 0.25rem;
    font-weight: 600;
}

.contact-details p {
    margin: 0;
    font-size: 0.9rem;
    color: #666;
}

.map-container {
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Contacto -->
<section class="hero-contacto">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="contact-badge">
                    <i class="fas fa-headset me-1"></i>
                    CONTACTO
                </div>
                <h1 class="h2 fw-bold mb-2">¬øNecesitas ayuda?</h1>
                <p class="lead mb-0">Estamos aqu√≠ para asistirte</p>
            </div>
        </div>
    </div>
</section>

<!-- Contenido Principal -->
<section class="main-content py-4">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mb-4">
                <div class="enhanced-card">
                    <h2 class="h4 fw-bold mb-3">
                        <i class="fas fa-envelope me-2"></i>
                        Env√≠anos un mensaje
                    </h2>
                    
                    <form method="post" class="enhanced-form">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label small fw-bold">Nombre completo *</label>
                                <input type="text" class="form-control form-control-sm" name="nombre" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label small fw-bold">Email *</label>
                                <input type="email" class="form-control form-control-sm" name="email" required>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label small fw-bold">Asunto</label>
                            <input type="text" class="form-control form-control-sm" name="asunto">
                        </div>
                        
                        <div class="mb-4">
                            <label class="form-label small fw-bold">Mensaje *</label>
                            <textarea class="form-control form-control-sm" name="mensaje" rows="4" required></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-dark btn-sm">
                            <i class="fas fa-paper-plane me-1"></i>
                            Enviar mensaje
                        </button>
                    </form>
                </div>
            </div>
            
            <!-- Informaci√≥n de Contacto -->
            <div class="col-lg-4">
                <div class="enhanced-card">
                    <h3 class="h5 fw-bold mb-3">Informaci√≥n de contacto</h3>
                    
                    <div class="contact-info-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h6>Ubicaci√≥n</h6>
                            <p>Buenos Aires, Argentina</p>
                        </div>
                    </div>
                    
                    <div class="contact-info-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <h6>Tel√©fono</h6>
                            <p>+54 11 1234-5678</p>
                        </div>
                    </div>
                    
                    <div class="contact-info-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h6>Email</h6>
                            <p>info@masivotech.com</p>
                        </div>
                    </div>
                    
                    <div class="contact-info-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-details">
                            <h6>Horario</h6>
                            <p>Lun-Vie: 9:00 - 18:00</p>
                        </div>
                    </div>

                    <div class="border-top pt-3 mt-2">
                        <h6 class="small fw-bold mb-2">S√≠guenos</h6>
                        <div class="social-links">
                            <a href="#" class="social-link" title="WhatsApp">
                                <i class="fab fa-whatsapp"></i>
                            </a>
                            <a href="#" class="social-link" title="Instagram">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="#" class="social-link" title="Facebook">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Mapa -->
<section class="bg-light py-4">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h2 class="h4 fw-bold text-center mb-3">Nuestra ubicaci√≥n</h2>
                <div class="map-container">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d210147.6571399704!2d-58.57338494999999!3d-34.61574375!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcca3b4ef90cbd%3A0xa0b3812e88e88e87!2sBuenos%20Aires%2C%20CABA!5e0!3m2!1ses-419!2sar!4v1700000000000!5m2!1ses-419!2sar" 
                        width="100%" 
                        height="300" 
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy">
                    </iframe>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

------market/marketplace/templates/marketplace/envios_info.html------
<!-- En: market/marketplace/templates/marketplace/envios_info.html -->
{% extends 'marketplace/base.html' %}
{% load static %}

{% block extra_css %}
<style>
.hero-envios {
    background: #000;
    color: white;
    padding: 3rem 0 2rem;
    text-align: center;
}

.envios-badge-main {
    background: #fff;
    color: #000;
    padding: 0.6rem 1.5rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.85rem;
    display: inline-block;
    margin-bottom: 1rem;
}

.envios-counter {
    margin: 1.5rem 0;
}

.counter-item {
    display: inline-block;
    padding: 0.8rem 1.5rem;
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,0.2);
}

.counter-number {
    display: block;
    font-size: 1.5rem;
    font-weight: 700;
}

.counter-label {
    font-size: 0.75rem;
    opacity: 0.8;
}

.envios-highlight {
    background: #f8f9fa;
    padding: 1.5rem 0;
    margin: 2rem 0;
    border-top: 2px solid #000;
    border-bottom: 2px solid #000;
}

/* Zonas con un toque especial */
.zonas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    margin: 3rem 0;
}

.zona-card {
    background: white;
    border-radius: 12px;
    padding: 2rem;
    text-align: center;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    border: 2px solid #f0f0f0;
    transition: all 0.3s ease;
}

.zona-card:hover {
    border-color: #000;
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

.zona-icon {
    width: 60px;
    height: 60px;
    background: #000;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
    color: white;
    font-size: 1.5rem;
}

.zona-nombre {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
}

.zona-precio {
    font-size: 1.8rem;
    font-weight: 800;
    color: #000;
    margin: 0.5rem 0;
}

.zona-tiempo {
    color: #666;
    font-size: 0.9rem;
    margin-bottom: 1rem;
}

.zona-ejemplos {
    background: #f8f9fa;
    padding: 0.75rem;
    border-radius: 8px;
    margin-top: 1rem;
}

/* Proceso simple pero bonito */
.proceso-envios {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin: 3rem 0;
}

.paso {
    text-align: center;
    padding: 1.5rem;
    background: white;
    border-radius: 10px;
    box-shadow: 0 3px 15px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
}

.paso:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 20px rgba(0,0,0,0.12);
}

.paso-numero {
    width: 40px;
    height: 40px;
    background: #000;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    margin: 0 auto 1rem;
}

.paso h5 {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.paso p {
    color: #666;
    font-size: 0.85rem;
    line-height: 1.4;
}

/* Features simples */
.features-envios {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin: 2rem 0;
}

.feature-envio {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: white;
    border-radius: 8px;
    border-left: 3px solid #000;
}

.feature-icon-envio {
    width: 40px;
    height: 40px;
    background: #000;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    flex-shrink: 0;
}

.feature-content h5 {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.feature-content p {
    color: #666;
    font-size: 0.85rem;
    margin: 0;
}

/* CTA simple */
.cta-envios {
    background: #000;
    color: white;
    padding: 2rem;
    margin: 2rem 0;
    border-radius: 12px;
    text-align: center;
}

.cta-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
}

.cta-text {
    margin-bottom: 1.5rem;
    opacity: 0.9;
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Env√≠os -->
<section class="hero-envios">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="envios-badge-main">
                    <i class="fas fa-shipping-fast me-1"></i>
                    ENV√çOS EXPRESS
                </div>
                <h1 class="h2 fw-bold mb-2">üöö Tu Gaming, R√°pido</h1>
                <p class="lead mb-3">Entregamos tu equipo donde est√©s</p>
                
                <div class="envios-counter">
                    <div class="counter-item">
                        <span class="counter-number">3</span>
                        <span class="counter-label">zonas de env√≠o</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Zonas de Env√≠o -->
<section class="main-content py-4">
    <div class="container">
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h2 class="h4 fw-bold mb-2">Precios por Zona</h2>
                <p class="text-muted">Calculamos el mejor env√≠o para vos</p>
            </div>
        </div>
        
        <div class="zonas-grid">
            <!-- CABA -->
            <div class="zona-card">
                <div class="zona-icon">
                    <i class="fas fa-building"></i>
                </div>
                <h3 class="zona-nombre">CABA</h3>
                <div class="zona-precio">$1.500</div>
                <p class="zona-tiempo">
                    <i class="fas fa-bolt me-1"></i>
                    24-48 horas
                </p>
                <div class="zona-ejemplos">
                    <small>
                        <i class="fas fa-map-pin me-1"></i>
                        1001, 1425, 1876
                    </small>
                </div>
            </div>
            
            <!-- GBA -->
            <div class="zona-card">
                <div class="zona-icon">
                    <i class="fas fa-home"></i>
                </div>
                <h3 class="zona-nombre">GBA</h3>
                <div class="zona-precio">$2.000</div>
                <p class="zona-tiempo">
                    <i class="fas fa-clock me-1"></i>
                    48-72 horas
                </p>
                <div class="zona-ejemplos">
                    <small>
                        <i class="fas fa-map-pin me-1"></i>
                        1600, 1700, 1754
                    </small>
                </div>
            </div>
            
            <!-- Interior -->
            <div class="zona-card">
                <div class="zona-icon">
                    <i class="fas fa-globe-americas"></i>
                </div>
                <h3 class="zona-nombre">Interior</h3>
                <div class="zona-precio">$3.500</div>
                <p class="zona-tiempo">
                    <i class="fas fa-truck me-1"></i>
                    5-7 d√≠as
                </p>
                <div class="zona-ejemplos">
                    <small>
                        <i class="fas fa-map-pin me-1"></i>
                        5000, 8000, 9400
                    </small>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Proceso de Env√≠o -->
<section class="main-content py-4 bg-light">
    <div class="container">
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h2 class="h4 fw-bold mb-2">¬øC√≥mo Funciona?</h2>
                <p class="text-muted">Simple y sin complicaciones</p>
            </div>
        </div>
        
        <div class="proceso-envios">
            <div class="paso">
                <div class="paso-numero">1</div>
                <h5>Eleg√≠ tus productos</h5>
                <p>Agreg√° al carrito todo lo que necesites para tu setup gaming</p>
            </div>
            <div class="paso">
                <div class="paso-numero">2</div>
                <h5>Calcul√° el env√≠o</h5>
                <p>Ingres√° tu c√≥digo postal y te mostramos el costo al instante</p>
            </div>
            <div class="paso">
                <div class="paso-numero">3</div>
                <h5>¬°Recib√≠ tu pedido!</h5>
                <p>Te lo llevamos hasta la puerta de tu casa con todo el cuidado</p>
            </div>
        </div>
    </div>
</section>

<!-- Features -->
<section class="main-content py-4">
    <div class="container">
        <div class="features-envios">
            <div class="feature-envio">
                <div class="feature-icon-envio">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="feature-content">
                    <h5>Embalaje Seguro</h5>
                    <p>Protegemos tus productos con materiales especiales</p>
                </div>
            </div>
            <div class="feature-envio">
                <div class="feature-icon-envio">
                    <i class="fas fa-shipping-fast"></i>
                </div>
                <div class="feature-content">
                    <h5>Env√≠o Express</h5>
                    <p>Despachamos en 24 horas h√°biles</p>
                </div>
            </div>
            <div class="feature-envio">
                <div class="feature-icon-envio">
                    <i class="fas fa-phone-alt"></i>
                </div>
                <div class="feature-content">
                    <h5>Soporte Dedicado</h5>
                    <p>Asistencia personalizada para tu env√≠o</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Banner Promocional -->
<section class="envios-highlight">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h4 class="h5 mb-1">üéÆ Env√≠o gratis +$50.000</h4>
                <p class="text-muted mb-0">Aprovech√° esta promoci√≥n especial para gamers</p>
            </div>
            <div class="col-md-4 text-md-end">
                <a href="{% url 'cart_detail' %}" class="btn btn-dark btn-sm">
                    <i class="fas fa-calculator me-1"></i>Calcular Env√≠o
                </a>
            </div>
        </div>
    </div>
</section>

<!-- CTA Final -->
<section class="main-content py-4">
    <div class="container">
        <div class="cta-envios">
            <h3 class="cta-title">¬øListo para Comprar?</h3>
            <p class="cta-text">Calcul√° tu env√≠o directamente desde el carrito y recib√≠ tus productos lo antes posible</p>
            <div class="d-flex gap-2 justify-content-center flex-wrap">
                <a href="{% url 'cart_detail' %}" class="btn btn-light">
                    <i class="fas fa-calculator me-2"></i>Calcular Env√≠o
                </a>
                <a href="{% url 'product_list' %}" class="btn btn-outline-light">
                    <i class="fas fa-shopping-bag me-2"></i>Ver Productos
                </a>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Simple -->
<section class="main-content py-4 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h3 class="h5 fw-bold mb-3">Preguntas Frecuentes</h3>
                <div class="accordion" id="faqEnvios">
                    <div class="accordion-item">
                        <h4 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                ¬øQu√© tan r√°pido llega mi pedido?
                            </button>
                        </h4>
                        <div id="faq1" class="accordion-collapse collapse show">
                            <div class="accordion-body">
                                <strong>üöÄ CABA:</strong> 24-48 horas<br>
                                <strong>‚è±Ô∏è GBA:</strong> 48-72 horas<br>
                                <strong>üó∫Ô∏è Interior:</strong> 5-7 d√≠as
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h4 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                ¬øHacen env√≠os a todo el pa√≠s?
                            </button>
                        </h4>
                        <div id="faq2" class="accordion-collapse collapse">
                            <div class="accordion-body">
                                ¬°S√≠! Llegamos a todas las provincias de Argentina. Solo ingres√° tu c√≥digo postal en el carrito.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

------market/marketplace/templates/marketplace/index.html------
{% extends 'marketplace/base.html' %}
{% load static %}

{% block extra_css %}
<style>
/* === CARRUSEL HERO MEJORADO === */
.hero-carousel {
    position: relative;
    height: 80vh;
    min-height: 600px;
    overflow: hidden;
    background: #000;
}

.carousel-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 1s ease-in-out;
    display: flex;
    align-items: center;
    background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 100%);
}

.carousel-slide.active {
    opacity: 1;
}

.carousel-slide::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.4);
    z-index: 1;
}

.carousel-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 0;
}

.carousel-content {
    position: relative;
    z-index: 2;
    color: white;
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
}

.carousel-badge {
    background: linear-gradient(45deg, #ff6b6b, #ee5a24);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 25px;
    font-weight: 600;
    display: inline-block;
    margin-bottom: 1.5rem;
    animation: pulse 2s infinite;
}

.carousel-title {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    line-height: 1.1;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

.carousel-subtitle {
    font-size: 1.25rem;
    margin-bottom: 2rem;
    opacity: 0.9;
    line-height: 1.6;
}

.carousel-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.carousel-btn {
    padding: 1rem 2rem;
    border-radius: 8px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.carousel-btn-primary {
    background: #000;
    color: white;
    border: 2px solid #000;
}

.carousel-btn-outline {
    background: transparent;
    color: white;
    border: 2px solid white;
}

.carousel-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.3);
}

.carousel-nav {
    position: absolute;
    bottom: 2rem;
    left: 0;
    right: 0;
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    z-index: 3;
}

.carousel-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255,255,255,0.5);
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
}

.carousel-dot.active {
    background: white;
    transform: scale(1.2);
}

.carousel-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0,0,0,0.5);
    color: white;
    border: none;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 3;
    transition: all 0.3s ease;
    font-size: 1.25rem;
}

.carousel-arrow:hover {
    background: rgba(0,0,0,0.8);
    transform: translateY(-50%) scale(1.1);
}

.carousel-prev {
    left: 2rem;
}

.carousel-next {
    right: 2rem;
}

/* === SECCI√ìN MARCAS DESTACADAS === */
.brands-section {
    padding: 4rem 0;
    background: #f8f9fa;
}

.brands-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 2rem;
    align-items: center;
    max-width: 1000px;
    margin: 0 auto;
}

.brand-item {
    text-align: center;
    padding: 1.5rem;
    background: white;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
}

.brand-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}

.brand-logo {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    color: #333;
}

.brand-name {
    font-weight: 600;
    color: #333;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* === SECCI√ìN CATEGOR√çAS === */
.categories-section {
    padding: 5rem 0;
    background: white;
}

.categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
}

.category-card {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    text-decoration: none;
    color: inherit;
    position: relative;
}

.category-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    text-decoration: none;
    color: inherit;
}

.category-image {
    height: 200px;
    background: linear-gradient(45deg, #333, #000);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.category-image::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.3);
}

.category-icon {
    font-size: 4rem;
    color: white;
    z-index: 2;
    position: relative;
}

.category-info {
    padding: 2rem;
    text-align: center;
}

.category-name {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: #333;
}

.category-count {
    color: #666;
    font-size: 0.9rem;
}

/* === SECCI√ìN POR QU√â ELEGIRNOS === */
.why-choose-section {
    padding: 5rem 0;
    background: #000;
    color: white;
}

.features-grid-enhanced {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
}

.feature-card-enhanced {
    background: rgba(255,255,255,0.1);
    padding: 2.5rem;
    border-radius: 16px;
    text-align: center;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2);
    transition: all 0.3s ease;
}

.feature-card-enhanced:hover {
    transform: translateY(-5px);
    background: rgba(255,255,255,0.15);
    border-color: rgba(255,255,255,0.3);
}

.feature-icon-enhanced {
    font-size: 3rem;
    margin-bottom: 1.5rem;
    color: white;
}

.feature-title-enhanced {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: white;
}

.feature-description-enhanced {
    color: rgba(255,255,255,0.8);
    line-height: 1.6;
}

/* === TESTIMONIOS === */
.testimonials-section {
    padding: 5rem 0;
    background: #f8f9fa;
}

.testimonials-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
}

.testimonial-card {
    background: white;
    padding: 2rem;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    position: relative;
}

.testimonial-text {
    font-style: italic;
    margin-bottom: 1.5rem;
    line-height: 1.6;
    color: #555;
}

.testimonial-author {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.author-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: #333;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
}

.author-info h4 {
    margin: 0;
    color: #333;
    font-weight: 600;
}

.author-info p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
}

/* === BANNER FINAL === */
.cta-banner {
    background: linear-gradient(135deg, #000 0%, #333 100%);
    color: white;
    padding: 4rem 0;
    text-align: center;
}

.cta-content {
    max-width: 600px;
    margin: 0 auto;
}

.cta-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
}

.cta-subtitle {
    font-size: 1.125rem;
    margin-bottom: 2rem;
    opacity: 0.9;
}

/* === RESPONSIVE === */
@media (max-width: 768px) {
    .hero-carousel {
        height: 70vh;
        min-height: 500px;
    }
    
    .carousel-title {
        font-size: 2.5rem;
    }
    
    .carousel-arrow {
        width: 40px;
        height: 40px;
        font-size: 1rem;
    }
    
    .carousel-prev {
        left: 1rem;
    }
    
    .carousel-next {
        right: 1rem;
    }
    
    .brands-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
    }
    
    .categories-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    .carousel-title {
        font-size: 2rem;
    }
    
    .carousel-actions {
        flex-direction: column;
        align-items: center;
    }
    
    .carousel-btn {
        width: 100%;
        max-width: 250px;
        justify-content: center;
    }
    
    .brands-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}
</style>
{% endblock %}

{% block content %}
<!-- üéÆ CARRUSEL HERO -->
<section class="hero-carousel">
    <!-- Slide 1 - Teclados -->
    <div class="carousel-slide active" data-slide="1">
        <div class="carousel-bg" style="background: linear-gradient(45deg, #1a1a1a, #404040);"></div>
        <div class="carousel-content">
            <div class="carousel-badge">
                <i class="fas fa-keyboard me-2"></i>
                NUEVA COLECCI√ìN
            </div>
            <h1 class="carousel-title">Teclados Mec√°nicos Profesionales</h1>
            <p class="carousel-subtitle">Experimenta la respuesta t√°ctil perfecta para gaming y trabajo. Switches mec√°nicos de alta precisi√≥n.</p>
            <div class="carousel-actions">
                <a href="{% url 'product_list' %}?category=teclados" class="carousel-btn carousel-btn-primary">
                    <i class="fas fa-shopping-bag me-2"></i>
                    Comprar Ahora
                </a>
                <a href="{% url 'product_list' %}" class="carousel-btn carousel-btn-outline">
                    <i class="fas fa-eye me-2"></i>
                    Ver Cat√°logo
                </a>
            </div>
        </div>
    </div>

    <!-- Slide 2 - Mouses -->
    <div class="carousel-slide" data-slide="2">
        <div class="carousel-bg" style="background: linear-gradient(45deg, #2c2c2c, #555555);"></div>
        <div class="carousel-content">
            <div class="carousel-badge">
                <i class="fas fa-mouse me-2"></i>
                PRECISI√ìN EXTREMA
            </div>
            <h1 class="carousel-title">Mouses Gaming de Alta Precisi√≥n</h1>
            <p class="carousel-subtitle">Sensores √≥pticos de √∫ltima generaci√≥n. Dise√±o ergon√≥mico para sesiones de gaming prolongadas.</p>
            <div class="carousel-actions">
                <a href="{% url 'product_list' %}?category=mouses" class="carousel-btn carousel-btn-primary">
                    <i class="fas fa-bolt me-2"></i>
                    Descubrir Mouses
                </a>
                <a href="{% url 'ofertas' %}" class="carousel-btn carousel-btn-outline">
                    <i class="fas fa-tag me-2"></i>
                    Ver Ofertas
                </a>
            </div>
        </div>
    </div>

    <!-- Slide 3 - Auriculares -->
    <div class="carousel-slide" data-slide="3">
        <div class="carousel-bg" style="background: linear-gradient(45deg, #333333, #666666);"></div>
        <div class="carousel-content">
            <div class="carousel-badge">
                <i class="fas fa-headset me-2"></i>
                SONIDO INMERSIVO
            </div>
            <h1 class="carousel-title">Auriculares con Sonido Surround 7.1</h1>
            <p class="carousel-subtitle">Audio de alta fidelidad para una experiencia gaming inmersiva. Cancelaci√≥n de ruido activa.</p>
            <div class="carousel-actions">
                <a href="{% url 'product_list' %}?category=auriculares" class="carousel-btn carousel-btn-primary">
                    <i class="fas fa-volume-up me-2"></i>
                    Explorar Audio
                </a>
                <a href="{% url 'chat' %}" class="carousel-btn carousel-btn-outline">
                    <i class="fas fa-robot me-2"></i>
                    Asesoramiento IA
                </a>
            </div>
        </div>
    </div>

    <!-- Flechas de Navegaci√≥n -->
    <button class="carousel-arrow carousel-prev">
        <i class="fas fa-chevron-left"></i>
    </button>
    <button class="carousel-arrow carousel-next">
        <i class="fas fa-chevron-right"></i>
    </button>

    <!-- Indicadores -->
    <div class="carousel-nav">
        <button class="carousel-dot active" data-slide="1"></button>
        <button class="carousel-dot" data-slide="2"></button>
        <button class="carousel-dot" data-slide="3"></button>
    </div>
</section>

<!-- üèÜ MARCAS DESTACADAS -->
<section class="brands-section">
    <div class="container">
        <div class="section-header text-center mb-5">
            <h2 class="section-title">Marcas Premium</h2>
            <p class="section-subtitle">Trabajamos con las mejores marcas del mercado gaming</p>
        </div>
        <div class="brands-grid">
            <div class="brand-item">
                <div class="brand-logo">
                    <i class="fab fa-razer"></i>
                </div>
                <div class="brand-name">Razer</div>
            </div>
            <div class="brand-item">
                <div class="brand-logo">
                    <i class="fas fa-dragon"></i>
                </div>
                <div class="brand-name">Redragon</div>
            </div>
            <div class="brand-item">
                <div class="brand-logo">
                    <i class="fas fa-headset"></i>
                </div>
                <div class="brand-name">Logitech</div>
            </div>
            <div class="brand-item">
                <div class="brand-logo">
                    <i class="fas fa-keyboard"></i>
                </div>
                <div class="brand-name">HyperX</div>
            </div>
            <div class="brand-item">
                <div class="brand-logo">
                    <i class="fas fa-gamepad"></i>
                </div>
                <div class="brand-name">SteelSeries</div>
            </div>
        </div>
    </div>
</section>

<!-- üéØ CATEGOR√çAS DESTACADAS -->
<section class="categories-section">
    <div class="container">
        <div class="section-header text-center mb-5">
            <h2 class="section-title">Explora por Categor√≠a</h2>
            <p class="section-subtitle">Encuentra el perif√©rico perfecto para tu setup</p>
        </div>
        <div class="categories-grid">
            <a href="{% url 'product_list' %}?category=teclados" class="category-card">
                <div class="category-image">
                    <i class="fas fa-keyboard category-icon"></i>
                </div>
                <div class="category-info">
                    <h3 class="category-name">Teclados Mec√°nicos</h3>
                    <p class="category-count">Desde $15.000</p>
                </div>
            </a>
            <a href="{% url 'product_list' %}?category=mouses" class="category-card">
                <div class="category-image">
                    <i class="fas fa-mouse category-icon"></i>
                </div>
                <div class="category-info">
                    <h3 class="category-name">Mouses Gaming</h3>
                    <p class="category-count">Desde $8.000</p>
                </div>
            </a>
            <a href="{% url 'product_list' %}?category=auriculares" class="category-card">
                <div class="category-image">
                    <i class="fas fa-headset category-icon"></i>
                </div>
                <div class="category-info">
                    <h3 class="category-name">Auriculares</h3>
                    <p class="category-count">Desde $12.000</p>
                </div>
            </a>
        </div>
    </div>
</section>

<!-- üéÆ PRODUCTOS DESTACADOS (secci√≥n existente mejorada) -->
<section class="featured-products">
    <div class="container">
        <div class="section-header text-center mb-5">
            <h2 class="section-title">Productos Destacados</h2>
            <p class="section-subtitle">Los m√°s vendidos de nuestra comunidad gamer</p>
        </div>
        
        <div class="products-grid">
            {% for product in products %}
            <div class="product-card enhanced-card" data-product-id="{{ product.id }}">
                <div class="product-image-wrapper">
                    <a href="{% url 'product_detail' product.id %}" class="product-image-link">
                        {% if product.image %}
                        <img src="{{ product.image.url }}" 
                             alt="{{ product.name }}" 
                             class="product-img"
                             loading="lazy">
                        {% else %}
                        <div class="product-image-placeholder">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        {% endif %}
                    </a>
                    
                    <div class="product-badges">
                        {% if product.stock <= 0 %}
                        <span class="badge badge-out">
                            <i class="fas fa-ban"></i>
                            AGOTADO
                        </span>
                        {% elif product.stock < 5 %}
                        <span class="badge badge-warning">
                            <i class="fas fa-bolt"></i>
                            √öLTIMAS UNIDADES
                        </span>
                        {% endif %}
                    </div>
                    
                    <div class="product-quick-action">
                        <button class="btn-quick-view" data-product-id="{{ product.id }}">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <div class="product-info">
                    <div class="product-category">
                        {{ product.get_category_display }}
                    </div>
                    
                    <h3 class="product-title">
                        <a href="{% url 'product_detail' product.id %}">
                            {{ product.name }}
                        </a>
                    </h3>
                    
                    <div class="product-price-section">
                        <span class="product-price">{{ product.get_price_in_pesos }}</span>
                    </div>
                    
                    <div class="product-rating">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="rating-count">(24)</span>
                    </div>
                </div>
                
                <div class="product-actions">
                    {% if product.stock > 0 %}
                    <button type="button" 
                            class="btn btn-dark w-100 add-to-cart-btn" 
                            data-product-id="{{ product.id }}">
                        <i class="fas fa-shopping-cart me-2"></i>
                        Agregar al Carrito
                    </button>
                    {% else %}
                    <button class="btn btn-outline-dark w-100" disabled>
                        <i class="fas fa-bell me-2"></i>
                        Notificar Disponibilidad
                    </button>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- üíé POR QU√â ELEGIRNOS -->
<section class="why-choose-section">
    <div class="container">
        <div class="section-header text-center mb-5">
            <h2 class="section-title text-white">¬øPor Qu√© Elegir Masivo Tech?</h2>
            <p class="section-subtitle text-white-50">La mejor experiencia gaming comienza con los mejores perif√©ricos</p>
        </div>
        <div class="features-grid-enhanced">
            <div class="feature-card-enhanced">
                <div class="feature-icon-enhanced">
                    <i class="fas fa-shipping-fast"></i>
                </div>
                <h3 class="feature-title-enhanced">Env√≠o Express</h3>
                <p class="feature-description-enhanced">
                    Recib√≠ tus productos en 24-48 horas en CABA. Despacho inmediato en compras antes de las 14hs.
                </p>
            </div>
            <div class="feature-card-enhanced">
                <div class="feature-icon-enhanced">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3 class="feature-title-enhanced">Garant√≠a Extendida</h3>
                <p class="feature-description-enhanced">
                    12 meses de garant√≠a oficial en todos los productos. Soporte t√©cnico especializado incluido.
                </p>
            </div>
            <div class="feature-card-enhanced">
                <div class="feature-icon-enhanced">
                    <i class="fas fa-credit-card"></i>
                </div>
                <h3 class="feature-title-enhanced">12 Cuotas Sin Inter√©s</h3>
                <p class="feature-description-enhanced">
                    Pag√° en hasta 12 cuotas sin inter√©s con todas las tarjetas. Financiaci√≥n inmediata.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- üöÄ BANNER FINAL -->
<section class="cta-banner">
    <div class="container">
        <div class="cta-content">
            <h2 class="cta-title">¬øListo para Mejorar tu Setup?</h2>
            <p class="cta-subtitle">Descubre los mejores perif√©ricos gaming con descuentos exclusivos</p>
            <div class="hero-actions">
                <a href="{% url 'product_list' %}" class="btn btn-light btn-lg me-3">
                    <i class="fas fa-shopping-bag me-2"></i>
                    Comprar Ahora
                </a>
                <a href="{% url 'ofertas' %}" class="btn btn-outline-light btn-lg">
                    <i class="fas fa-tag me-2"></i>
                    Ver Ofertas
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
// CARRUSEL INTERACTIVO
class HeroCarousel {
    constructor() {
        this.slides = document.querySelectorAll('.carousel-slide');
        this.dots = document.querySelectorAll('.carousel-dot');
        this.prevBtn = document.querySelector('.carousel-prev');
        this.nextBtn = document.querySelector('.carousel-next');
        this.currentSlide = 0;
        this.interval = null;
        
        this.init();
    }

    init() {
        // Event listeners
        this.prevBtn.addEventListener('click', () => this.prevSlide());
        this.nextBtn.addEventListener('click', () => this.nextSlide());
        
        this.dots.forEach((dot, index) => {
            dot.addEventListener('click', () => this.goToSlide(index));
        });

        // Auto-play
        this.startAutoPlay();

        // Pause on hover
        const carousel = document.querySelector('.hero-carousel');
        carousel.addEventListener('mouseenter', () => this.stopAutoPlay());
        carousel.addEventListener('mouseleave', () => this.startAutoPlay());

        // Touch support
        this.addTouchSupport();
    }

    showSlide(index) {
        // Hide all slides
        this.slides.forEach(slide => slide.classList.remove('active'));
        this.dots.forEach(dot => dot.classList.remove('active'));

        // Show current slide
        this.slides[index].classList.add('active');
        this.dots[index].classList.add('active');
        
        this.currentSlide = index;
    }

    nextSlide() {
        let next = this.currentSlide + 1;
        if (next >= this.slides.length) next = 0;
        this.showSlide(next);
    }

    prevSlide() {
        let prev = this.currentSlide - 1;
        if (prev < 0) prev = this.slides.length - 1;
        this.showSlide(prev);
    }

    goToSlide(index) {
        this.showSlide(index);
    }

    startAutoPlay() {
        this.interval = setInterval(() => {
            this.nextSlide();
        }, 5000); // Change slide every 5 seconds
    }

    stopAutoPlay() {
        if (this.interval) {
            clearInterval(this.interval);
            this.interval = null;
        }
    }

    addTouchSupport() {
        const carousel = document.querySelector('.hero-carousel');
        let startX = 0;
        let endX = 0;

        carousel.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
        });

        carousel.addEventListener('touchend', (e) => {
            endX = e.changedTouches[0].clientX;
            this.handleSwipe(startX, endX);
        });
    }

    handleSwipe(startX, endX) {
        const diff = startX - endX;
        const minSwipe = 50; // Minimum swipe distance

        if (Math.abs(diff) > minSwipe) {
            if (diff > 0) {
                this.nextSlide(); // Swipe left
            } else {
                this.prevSlide(); // Swipe right
            }
        }
    }
}

// Inicializar carrusel cuando el DOM est√© listo
document.addEventListener('DOMContentLoaded', () => {
    window.heroCarousel = new HeroCarousel();
    
    // Animaciones de scroll para las nuevas secciones
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    // Observar elementos para animar
    document.querySelectorAll('.category-card, .feature-card-enhanced, .testimonial-card').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'all 0.6s ease';
        observer.observe(el);
    });
});
</script>
{% endblock %}

------market/marketplace/templates/marketplace/ofertas.html------
{% extends 'marketplace/base.html' %}
{% load static %}

{% block extra_css %}
<style>
.hero-ofertas {
    background: #000;
    color: white;
    padding: 3rem 0 2rem;
    text-align: center;
}

.offer-badge-main {
    background: #fff;
    color: #000;
    padding: 0.6rem 1.5rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.85rem;
    display: inline-block;
    margin-bottom: 1rem;
}

.offers-counter {
    margin: 1.5rem 0;
}

.counter-item {
    display: inline-block;
    padding: 0.8rem 1.5rem;
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,0.2);
}

.counter-number {
    display: block;
    font-size: 1.5rem;
    font-weight: 700;
}

.counter-label {
    font-size: 0.75rem;
    opacity: 0.8;
}

.offer-highlight {
    background: #f8f9fa;
    padding: 1.5rem 0;
    margin: 2rem 0;
}

.price-comparison {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin: 0.5rem 0;
}

.old-price {
    font-size: 0.9rem;
    color: #6c757d;
    text-decoration: line-through;
}

.discount-badge {
    background: #dc3545;
    color: white;
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 600;
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Ofertas -->
<section class="hero-ofertas">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="offer-badge-main">
                    <i class="fas fa-bolt me-1"></i>
                    OFERTAS ESPECIALES
                </div>
                <h1 class="h2 fw-bold mb-2">Ofertas Gaming</h1>
                <p class="lead mb-3">Descuentos exclusivos en perif√©ricos</p>
                
                <div class="offers-counter">
                    <div class="counter-item">
                        <span class="counter-number">{{ productos_oferta.count }}</span>
                        <span class="counter-label">productos en oferta</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Productos en Oferta -->
<section class="main-content py-4">
    <div class="container">
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h2 class="h4 fw-bold mb-2">Productos Destacados</h2>
                <p class="text-muted small">Precios especiales por tiempo limitado</p>
            </div>
        </div>
        
        <div class="products-grid">
            {% for product in productos_oferta %}
            <div class="product-card">
                <div class="position-absolute top-0 start-0 m-2">
                    <span class="badge bg-dark text-white small">
                        <i class="fas fa-tag me-1"></i>OFERTA
                    </span>
                </div>
                
                <a href="{% url 'product_detail' product.id %}" class="product-image-link">
                    <div class="product-image-wrapper">
                        {% if product.image %}
                            <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-img">
                        {% else %}
                            <div class="product-image-placeholder">
                                <i class="fas fa-gamepad"></i>
                            </div>
                        {% endif %}
                    </div>
                    
                    <div class="product-info">
                        <div class="product-category small">{{ product.get_category_display }}</div>
                        <h3 class="product-title">{{ product.name|truncatewords:4 }}</h3>
                        
                        <div class="price-comparison">
                            <span class="old-price">${{ product.price|add:3000|floatformat:0 }}</span>
                            <span class="product-price">{{ product.get_price_in_pesos }}</span>
                            <span class="discount-badge">-20%</span>
                        </div>
                    </div>
                </a>
                
                <div class="product-actions">
                    {% if product.stock > 0 %}
                    <button type="button" class="btn btn-dark btn-sm w-100 add-to-cart-btn" 
                            data-product-id="{{ product.id }}">
                        <i class="fas fa-cart-plus me-1"></i>Agregar
                    </button>
                    {% else %}
                    <button class="btn btn-outline-dark btn-sm w-100" disabled>
                        <i class="fas fa-times me-1"></i>Agotado
                    </button>
                    {% endif %}
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center py-4">
                <div class="empty-state">
                    <i class="fas fa-tag fa-2x text-muted mb-3"></i>
                    <h4 class="h5">No hay ofertas disponibles</h4>
                    <p class="text-muted small mb-3">Pr√≥ximamente tendremos nuevas promociones</p>
                    <a href="{% url 'product_list' %}" class="btn btn-dark btn-sm">
                        Ver Cat√°logo
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Banner Promocional -->
<section class="offer-highlight">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h4 class="h5 mb-1">üöö Env√≠o gratis +$50.000</h4>
                <p class="text-muted small mb-0">Aprovecha esta promoci√≥n por tiempo limitado</p>
            </div>
            <div class="col-md-4 text-md-end">
                <a href="{% url 'product_list' %}" class="btn btn-outline-dark btn-sm">
                    <i class="fas fa-bolt me-1"></i>Ver Productos
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

------market/marketplace/templates/marketplace/payment_failure.html------
{% extends 'marketplace/base.html' %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card border-danger">
                <div class="card-body text-center py-5">
                    <!-- Icono de Error -->
                    <div class="payment-status-icon mb-4">
                        <i class="fas fa-times-circle fa-4x text-danger"></i>
                    </div>
                    
                    <!-- T√≠tulo -->
                    <h2 class="card-title text-danger mb-3">Pago Fallido</h2>
                    
                    <!-- Mensaje -->
                    <p class="card-text text-muted mb-4">
                        Lo sentimos, no pudimos procesar tu pago. 
                        Esto puede deberse a varios motivos:
                    </p>
                    
                    <!-- Posibles Causas -->
                    <div class="reasons-list text-start mb-4">
                        <div class="reason-item mb-2">
                            <i class="fas fa-exclamation-circle text-warning me-2"></i>
                            Fondos insuficientes en la cuenta
                        </div>
                        <div class="reason-item mb-2">
                            <i class="fas fa-exclamation-circle text-warning me-2"></i>
                            Problemas con la tarjeta de cr√©dito/d√©bito
                        </div>
                        <div class="reason-item mb-2">
                            <i class="fas fa-exclamation-circle text-warning me-2"></i>
                            Error temporal del sistema
                        </div>
                        <div class="reason-item">
                            <i class="fas fa-exclamation-circle text-warning me-2"></i>
                            Datos de pago incorrectos
                        </div>
                    </div>

                    <!-- Informaci√≥n del Pago -->
                    {% if payment_id %}
                    <div class="payment-info bg-light p-3 rounded mb-4">
                        <small class="text-muted">
                            <strong>ID de pago:</strong> {{ payment_id }}<br>
                            <strong>Estado:</strong> {{ status|default:"Fallido" }}
                        </small>
                    </div>
                    {% endif %}

                    <!-- Acciones -->
                    <div class="payment-actions">
                        <a href="{% url 'cart_detail' %}" class="btn btn-primary btn-lg me-3">
                            <i class="fas fa-arrow-left me-2"></i>
                            Volver al Carrito
                        </a>
                        <a href="{% url 'product_list' %}" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-shopping-bag me-2"></i>
                            Seguir Comprando
                        </a>
                    </div>

                    <!-- Soporte -->
                    <div class="support-info mt-4 pt-3 border-top">
                        <small class="text-muted">
                            ¬øNecesitas ayuda? 
                            <a href="{% url 'contacto' %}" class="text-decoration-none">
                                Contacta a nuestro soporte
                            </a>
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

------market/marketplace/templates/marketplace/payment_pending.html------
{% extends 'marketplace/base.html' %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card border-warning">
                <div class="card-body text-center py-5">
                    <!-- Icono de Pendiente -->
                    <div class="payment-status-icon mb-4">
                        <i class="fas fa-clock fa-4x text-warning"></i>
                    </div>
                    
                    <!-- T√≠tulo -->
                    <h2 class="card-title text-warning mb-3">Pago en Proceso</h2>
                    
                    <!-- Mensaje -->
                    <p class="card-text text-muted mb-4">
                        Tu pago est√° siendo procesado. Esto puede tomar algunos minutos.
                        Te notificaremos por email cuando se complete la transacci√≥n.
                    </p>

                    <!-- Informaci√≥n del Pago -->
                    {% if payment_id %}
                    <div class="payment-info bg-light p-3 rounded mb-4">
                        <small class="text-muted">
                            <strong>ID de pago:</strong> {{ payment_id }}<br>
                            <strong>Estado:</strong> {{ status|default:"En proceso" }}
                        </small>
                    </div>
                    {% endif %}

                    <!-- Indicador de Progreso -->
                    <div class="progress mb-4" style="height: 8px;">
                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" 
                             style="width: 75%">
                        </div>
                    </div>

                    <!-- Acciones -->
                    <div class="payment-actions">
                        <a href="{% url 'index' %}" class="btn btn-primary btn-lg me-3">
                            <i class="fas fa-home me-2"></i>
                            Volver al Inicio
                        </a>
                        <a href="{% url 'order_history' %}" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-shopping-bag me-2"></i>
                            Ver Mis Pedidos
                        </a>
                    </div>

                    <!-- Informaci√≥n Adicional -->
                    <div class="additional-info mt-4 pt-3 border-top">
                        <div class="row text-start">
                            <div class="col-md-6">
                                <small class="text-muted">
                                    <i class="fas fa-envelope me-2"></i>
                                    Recibir√°s un email de confirmaci√≥n
                                </small>
                            </div>
                            <div class="col-md-6">
                                <small class="text-muted">
                                    <i class="fas fa-clock me-2"></i>
                                    Proceso autom√°tico
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

------market/marketplace/templates/marketplace/payment_success.html------
{% extends 'marketplace/base.html' %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card border-success">
                <div class="card-body text-center py-5">
                    <!-- Icono de √âxito -->
                    <div class="payment-status-icon mb-4">
                        <i class="fas fa-check-circle fa-4x text-success"></i>
                    </div>
                    
                    <!-- T√≠tulo -->
                    <h2 class="card-title text-success mb-3">¬°Pago Exitoso!</h2>
                    
                    <!-- Mensaje -->
                    <p class="card-text text-muted mb-4">
                        Tu pedido ha sido confirmado y est√° siendo procesado.
                        Recibir√°s un email con los detalles de tu compra en breve.
                    </p>

                    <!-- Informaci√≥n del Pago -->
                    {% if payment_id %}
                    <div class="payment-info bg-light p-3 rounded mb-4">
                        <small class="text-muted">
                            <strong>ID de pago:</strong> {{ payment_id }}<br>
                            <strong>Estado:</strong> {{ status|default:"Aprobado" }}
                        </small>
                    </div>
                    {% endif %}

                    <!-- Resumen R√°pido -->
                    <div class="order-summary bg-success bg-opacity-10 p-3 rounded mb-4">
                        <h6 class="mb-3">Resumen de tu pedido:</h6>
                        <div class="row text-center">
                            <div class="col-4">
                                <div class="summary-item">
                                    <div class="summary-value text-success fw-bold">Confirmado</div>
                                    <small class="text-muted">Estado</small>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="summary-item">
                                    <div class="summary-value text-success fw-bold">24-48h</div>
                                    <small class="text-muted">Env√≠o estimado</small>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="summary-item">
                                    <div class="summary-value text-success fw-bold">Email</div>
                                    <small class="text-muted">Confirmaci√≥n</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Acciones -->
                    <div class="payment-actions">
                        <a href="{% url 'order_history' %}" class="btn btn-primary btn-lg me-3">
                            <i class="fas fa-shopping-bag me-2"></i>
                            Ver Mis Pedidos
                        </a>
                        <a href="{% url 'product_list' %}" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-shopping-cart me-2"></i>
                            Seguir Comprando
                        </a>
                    </div>

                    <!-- Informaci√≥n Adicional -->
                    <div class="additional-info mt-4 pt-3 border-top">
                        <small class="text-muted">
                            <i class="fas fa-info-circle me-2"></i>
                            ¬øTienes preguntas? 
                            <a href="{% url 'contacto' %}" class="text-decoration-none">
                                Cont√°ctanos
                            </a>
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

------market/marketplace/templates/marketplace/product_detail.html------
{% extends 'marketplace/base.html' %}
{% load static %}

{% block extra_css %}
<style>
/* Hero del Producto */
.hero-producto {
    background: #000;
    color: white;
    padding: 2rem 0 1rem;
}

.product-breadcrumb {
    margin-bottom: 1rem;
}

.breadcrumb {
    background: none;
    padding: 0;
    margin: 0;
    display: flex;
    list-style: none;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.breadcrumb-item {
    font-size: 0.875rem;
}

.breadcrumb-item a {
    color: rgba(255,255,255,0.8);
    text-decoration: none;
    transition: color 0.3s ease;
}

.breadcrumb-item a:hover {
    color: white;
}

.breadcrumb-item.active {
    color: white;
    font-weight: 600;
}

.breadcrumb-separator {
    color: rgba(255,255,255,0.5);
}

/* Layout Principal del Producto */
.producto-detalle {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    margin: 2rem 0;
}

@media (max-width: 968px) {
    .producto-detalle {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
}

/* Galer√≠a de Im√°genes */
.producto-galeria {
    position: sticky;
    top: 2rem;
}

.imagen-principal {
    background: #f8f9fa;
    border-radius: 16px;
    padding: 2rem;
    text-align: center;
    margin-bottom: 1rem;
    border: 2px solid #f0f0f0;
    transition: all 0.3s ease;
}

.imagen-principal:hover {
    border-color: #000;
    transform: translateY(-2px);
}

.imagen-principal img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    transition: transform 0.3s ease;
}

.imagen-principal:hover img {
    transform: scale(1.02);
}

.placeholder-imagen {
    width: 100%;
    height: 300px;
    background: linear-gradient(45deg, #f8f9fa, #e9ecef);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #6c757d;
    font-size: 3rem;
}

/* Informaci√≥n del Producto */
.producto-info {
    background: white;
    border-radius: 16px;
    padding: 2rem;
    border: 1px solid #e5e5e5;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}

.badge-categoria {
    background: #000;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    display: inline-block;
    margin-bottom: 1rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.titulo-producto {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 1rem;
    line-height: 1.2;
    color: #000;
}

.precio-producto {
    font-size: 1.75rem;
    font-weight: 700;
    color: #000;
    margin-bottom: 1.5rem;
}

/* Estado de Stock */
.estado-stock {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border-radius: 8px;
    font-weight: 600;
    margin-bottom: 1.5rem;
    font-size: 0.9rem;
}

.stock-disponible {
    background: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
}

.stock-poco {
    background: #fff3cd;
    color: #856404;
    border: 1px solid #ffeaa7;
}

.stock-agotado {
    background: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
}

/* Caracter√≠sticas */
.lista-caracteristicas {
    list-style: none;
    padding: 0;
    margin: 1.5rem 0;
}

.item-caracteristica {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
    color: #000;
    font-weight: 500;
}

.item-caracteristica i {
    color: #000;
    width: 16px;
    text-align: center;
}

/* Control de Cantidad */
.control-cantidad {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin: 1.5rem 0;
}

.etiqueta-cantidad {
    font-weight: 600;
    color: #000;
}

.input-cantidad {
    display: flex;
    align-items: center;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    overflow: hidden;
    background: white;
}

.btn-cantidad {
    background: none;
    border: none;
    padding: 0.75rem 1rem;
    cursor: pointer;
    color: #000;
    transition: background-color 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 44px;
}

.btn-cantidad:hover {
    background: #f8f9fa;
}

.btn-cantidad:disabled {
    color: #ccc;
    cursor: not-allowed;
}

.btn-cantidad:disabled:hover {
    background: none;
}

.valor-cantidad {
    width: 60px;
    border: none;
    text-align: center;
    font-size: 1rem;
    padding: 0.75rem 0;
    background: transparent;
    font-weight: 600;
    color: #000;
}

.valor-cantidad:focus {
    outline: none;
    background: #f8f9fa;
}

/* Botones de Acci√≥n */
.botones-accion {
    margin: 2rem 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.btn-agregar-carrito {
    background: #000;
    color: white;
    border: 2px solid #000;
    padding: 1rem 2rem;
    border-radius: 8px;
    font-weight: 600;
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
    cursor: pointer;
    font-size: 1rem;
}

.btn-agregar-carrito:hover {
    background: #333;
    border-color: #333;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    color: white;
    text-decoration: none;
}

.btn-comprar-ahora {
    background: transparent;
    color: #000;
    border: 2px solid #000;
    padding: 1rem 2rem;
    border-radius: 8px;
    font-weight: 600;
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
    cursor: pointer;
    font-size: 1rem;
}

.btn-comprar-ahora:hover {
    background: #000;
    color: white;
    transform: translateY(-2px);
    text-decoration: none;
}

.btn-comprar-ahora:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

.btn-comprar-ahora:disabled:hover {
    background: transparent;
    color: #000;
}

/* Grid de Informaci√≥n */
.grid-informacion {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin: 2rem 0;
}

.item-info {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.item-info:hover {
    background: #000;
    color: white;
    transform: translateY(-2px);
}

.item-info:hover i {
    color: white;
}

.icono-info {
    font-size: 1.2rem;
    color: #000;
    width: 24px;
    text-align: center;
}

.contenido-info strong {
    display: block;
    font-size: 0.9rem;
    margin-bottom: 0.25rem;
}

.contenido-info span {
    font-size: 0.8rem;
    opacity: 0.8;
}

/* Tabs de Informaci√≥n */
.tabs-producto {
    margin: 3rem 0;
}

.nav-tabs {
    display: flex;
    border-bottom: 2px solid #e5e5e5;
    margin-bottom: 2rem;
    gap: 0;
}

.btn-tab {
    background: none;
    border: none;
    padding: 1rem 1.5rem;
    font-weight: 600;
    color: #666;
    cursor: pointer;
    transition: all 0.3s ease;
    border-bottom: 2px solid transparent;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.95rem;
}

.btn-tab.active {
    color: #000;
    border-bottom-color: #000;
}

.btn-tab:hover {
    color: #000;
    background: #f8f9fa;
}

.contenido-tab {
    padding: 2rem 0;
}

.pesta√±a-activa {
    display: block;
}

.pesta√±a-oculta {
    display: none;
}

.descripcion-contenido {
    line-height: 1.7;
    white-space: pre-line;
    font-size: 0.95rem;
    color: #333;
}

/* Especificaciones */
.lista-especificaciones {
    width: 100%;
}

.fila-especificacion {
    display: flex;
    justify-content: space-between;
    padding: 0.75rem 0;
    border-bottom: 1px solid #e5e5e5;
}

.fila-especificacion:last-child {
    border-bottom: none;
}

.etiqueta-especificacion {
    font-weight: 600;
    color: #000;
}

.valor-especificacion {
    color: #666;
}

/* Rese√±as */
.contenido-resenas {
    text-align: center;
    padding: 3rem 2rem;
    color: #666;
}

.icono-resenas {
    font-size: 3rem;
    color: #e5e5e5;
    margin-bottom: 1rem;
}

/* Productos Relacionados */
.productos-relacionados {
    margin: 4rem 0;
}

.titulo-relacionados {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 2rem;
    text-align: center;
    color: #000;
}

/* Responsive */
@media (max-width: 768px) {
    .hero-producto {
        padding: 1.5rem 0 1rem;
    }
    
    .producto-info {
        padding: 1.5rem;
    }
    
    .titulo-producto {
        font-size: 1.5rem;
    }
    
    .precio-producto {
        font-size: 1.5rem;
    }
    
    .grid-informacion {
        grid-template-columns: 1fr;
    }
    
    .nav-tabs {
        flex-direction: column;
        border-bottom: none;
    }
    
    .btn-tab {
        border-bottom: 1px solid #e5e5e5;
        justify-content: center;
    }
    
    .btn-tab.active {
        border-bottom-color: #000;
    }
    
    .botones-accion {
        margin: 1.5rem 0;
    }
    
    .btn-agregar-carrito,
    .btn-comprar-ahora {
        padding: 0.875rem 1.5rem;
        font-size: 0.9rem;
    }
}

@media (max-width: 480px) {
    .producto-info {
        padding: 1rem;
        border-radius: 12px;
    }
    
    .imagen-principal {
        padding: 1rem;
        border-radius: 12px;
    }
    
    .placeholder-imagen {
        height: 200px;
        font-size: 2rem;
    }
    
    .control-cantidad {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }
    
    .input-cantidad {
        width: 100%;
        justify-content: center;
    }
}
</style>
{% endblock %}

{% block content %}
<!-- Hero del Producto -->
<section class="hero-producto">
    <div class="container">
        <!-- Migas de pan -->
        <nav class="product-breadcrumb">
            <ul class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="{% url 'index' %}">Inicio</a>
                </li>
                <li class="breadcrumb-separator">/</li>
                <li class="breadcrumb-item">
                    <a href="{% url 'product_list' %}">Productos</a>
                </li>
                <li class="breadcrumb-separator">/</li>
                <li class="breadcrumb-item">
                    <a href="{% url 'product_list' %}?category={{ product.category }}">{{ product.get_category_display }}</a>
                </li>
                <li class="breadcrumb-separator">/</li>
                <li class="breadcrumb-item active">{{ product.name|truncatewords:3 }}</li>
            </ul>
        </nav>
    </div>
</section>

<!-- Detalle del Producto -->
<section class="main-content">
    <div class="container">
        <div class="producto-detalle">
            <!-- Galer√≠a -->
            <div class="producto-galeria">
                <div class="imagen-principal">
                    {% if product.image %}
                        <img src="{{ product.image.url }}" alt="{{ product.name }}">
                    {% else %}
                        <div class="placeholder-imagen">
                            <i class="fas fa-gamepad"></i>
                        </div>
                    {% endif %}
                </div>
            </div>

            <!-- Informaci√≥n -->
            <div class="producto-info">
                <div class="badge-categoria">
                    {{ product.get_category_display }}
                </div>

                <h1 class="titulo-producto">{{ product.name }}</h1>

                <div class="precio-producto">
                    {{ product.get_price_in_pesos }}
                </div>

                <!-- Estado de Stock -->
                <div class="estado-stock {% if product.stock > 10 %}stock-disponible{% elif product.stock > 0 %}stock-poco{% else %}stock-agotado{% endif %}">
                    <i class="fas {% if product.stock > 10 %}fa-check-circle{% elif product.stock > 0 %}fa-exclamation-triangle{% else %}fa-times-circle{% endif %}"></i>
                    {% if product.stock > 10 %}
                        En stock - Listo para enviar
                    {% elif product.stock > 0 %}
                        {{ product.stock }} unidades disponibles
                    {% else %}
                        Producto agotado
                    {% endif %}
                </div>

                <!-- Caracter√≠sticas -->
                <ul class="lista-caracteristicas">
                    <li class="item-caracteristica">
                        <i class="fas fa-shipping-fast"></i>
                        <span>Env√≠o gratis en compras superiores a $50.000</span>
                    </li>
                    <li class="item-caracteristica">
                        <i class="fas fa-shield-alt"></i>
                        <span>Garant√≠a oficial de 12 meses</span>
                    </li>
                    <li class="item-caracteristica">
                        <i class="fas fa-headset"></i>
                        <span>Soporte t√©cnico especializado</span>
                    </li>
                    <li class="item-caracteristica">
                        <i class="fas fa-clock"></i>
                        <span>Entrega en 24-48 horas en CABA</span>
                    </li>
                </ul>

                {% if product.stock > 0 %}
                <!-- Control de Cantidad -->
                <div class="control-cantidad">
                    <span class="etiqueta-cantidad">Cantidad:</span>
                    <div class="input-cantidad">
                        <button type="button" class="btn-cantidad" id="disminuirCantidad">
                            <i class="fas fa-minus"></i>
                        </button>
                        <input type="number" id="cantidad" value="1" min="1" max="{{ product.stock }}" class="valor-cantidad">
                        <button type="button" class="btn-cantidad" id="aumentarCantidad">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
                {% endif %}

                <!-- Botones de Acci√≥n -->
                <div class="botones-accion">
                    {% if product.stock > 0 %}
                        <button type="button" class="btn-agregar-carrito" id="btnAgregarCarrito" data-product-id="{{ product.id }}">
                            <i class="fas fa-cart-plus"></i>
                            Agregar al Carrito
                        </button>
                        <button type="button" class="btn-comprar-ahora" disabled>
                            <i class="fas fa-bolt"></i>
                            Comprar Ahora (Pr√≥ximamente)
                        </button>
                    {% else %}
                        <button type="button" class="btn-comprar-ahora" disabled>
                            <i class="fas fa-times"></i>
                            Producto Agotado
                        </button>
                    {% endif %}
                </div>

                <!-- Informaci√≥n Adicional -->
                <div class="grid-informacion">
                    <div class="item-info">
                        <div class="icono-info">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                        <div class="contenido-info">
                            <strong>Env√≠o r√°pido</strong>
                            <span>24-48hs en CABA</span>
                        </div>
                    </div>
                    <div class="item-info">
                        <div class="icono-info">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="contenido-info">
                            <strong>Garant√≠a</strong>
                            <span>12 meses oficial</span>
                        </div>
                    </div>
                    <div class="item-info">
                        <div class="icono-info">
                            <i class="fas fa-credit-card"></i>
                        </div>
                        <div class="contenido-info">
                            <strong>12 cuotas</strong>
                            <span>Sin inter√©s</span>
                        </div>
                    </div>
                    <div class="item-info">
                        <div class="icono-info">
                            <i class="fas fa-undo"></i>
                        </div>
                        <div class="contenido-info">
                            <strong>Devoluciones</strong>
                            <span>30 d√≠as</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tabs de Informaci√≥n -->
        <div class="tabs-producto">
            <div class="nav-tabs">
                <button class="btn-tab active" data-tab="descripcion">
                    <i class="fas fa-file-alt"></i>
                    Descripci√≥n
                </button>
                <button class="btn-tab" data-tab="especificaciones">
                    <i class="fas fa-list-alt"></i>
                    Especificaciones
                </button>
                <button class="btn-tab" data-tab="rese√±as">
                    <i class="fas fa-star"></i>
                    Rese√±as
                </button>
            </div>

            <div class="contenido-tabs">
                <!-- Descripci√≥n -->
                <div id="descripcion" class="pesta√±a-activa">
                    <div class="descripcion-contenido">
                        {{ product.description|linebreaks }}
                    </div>
                </div>
                
                <!-- Especificaciones -->
                <div id="especificaciones" class="pesta√±a-oculta">
                    <div class="lista-especificaciones">
                        <div class="fila-especificacion">
                            <span class="etiqueta-especificacion">Categor√≠a:</span>
                            <span class="valor-especificacion">{{ product.get_category_display }}</span>
                        </div>
                        <div class="fila-especificacion">
                            <span class="etiqueta-especificacion">Disponibilidad:</span>
                            <span class="valor-especificacion">
                                {% if product.stock > 0 %}
                                    <span style="color: #28a745;">En stock</span>
                                {% else %}
                                    <span style="color: #dc3545;">Agotado</span>
                                {% endif %}
                            </span>
                        </div>
                        <div class="fila-especificacion">
                            <span class="etiqueta-especificacion">Garant√≠a:</span>
                            <span class="valor-especificacion">12 meses</span>
                        </div>
                        <div class="fila-especificacion">
                            <span class="etiqueta-especificacion">Marca:</span>
                            <span class="valor-especificacion">Masivo Tech</span>
                        </div>
                    </div>
                </div>
                
                <!-- Rese√±as -->
                <div id="rese√±as" class="pesta√±a-oculta">
                    <div class="contenido-resenas">
                        <div class="icono-resenas">
                            <i class="fas fa-star"></i>
                        </div>
                        <h4>Sistema de rese√±as pr√≥ximamente</h4>
                        <p>Estamos trabajando en un sistema de calificaciones para que puedas compartir tu experiencia.</p>
                        <button class="btn-comprar-ahora" disabled style="margin-top: 1rem;">
                            <i class="fas fa-pen"></i>
                            Escribir Rese√±a
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
// Funci√≥n auxiliar para obtener el CSRF token
function getCSRFToken() {
    return document.querySelector('[name=csrfmiddlewaretoken]')?.value || 
           (typeof MasivoTechUtils !== 'undefined' ? MasivoTechUtils.getCookie('csrftoken') : '');
}

document.addEventListener('DOMContentLoaded', function() {
    // Control de cantidad
    const cantidadInput = document.getElementById('cantidad');
    const btnDisminuir = document.getElementById('disminuirCantidad');
    const btnAumentar = document.getElementById('aumentarCantidad');
    
    if (cantidadInput && btnDisminuir && btnAumentar) {
        btnDisminuir.addEventListener('click', function() {
            let value = parseInt(cantidadInput.value);
            if (value > 1) {
                cantidadInput.value = value - 1;
                actualizarEstadoBotones();
            }
        });
        
        btnAumentar.addEventListener('click', function() {
            let value = parseInt(cantidadInput.value);
            const max = parseInt(cantidadInput.max);
            if (value < max) {
                cantidadInput.value = value + 1;
                actualizarEstadoBotones();
            }
        });
        
        cantidadInput.addEventListener('change', function() {
            let value = parseInt(this.value);
            const max = parseInt(this.max);
            const min = parseInt(this.min);
            
            if (value < min) this.value = min;
            if (value > max) this.value = max;
            
            actualizarEstadoBotones();
        });
        
        function actualizarEstadoBotones() {
            const value = parseInt(cantidadInput.value);
            const max = parseInt(cantidadInput.max);
            const min = parseInt(cantidadInput.min);
            
            btnDisminuir.disabled = value <= min;
            btnAumentar.disabled = value >= max;
        }
        
        actualizarEstadoBotones();
    }
    
    // Sistema de tabs
    const tabBtns = document.querySelectorAll('.btn-tab');
    const tabPanes = document.querySelectorAll('.contenido-tabs > div');
    
    tabBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const tabId = this.getAttribute('data-tab');
            
            // Remover active de todos
            tabBtns.forEach(b => b.classList.remove('active'));
            tabPanes.forEach(p => {
                p.classList.remove('pesta√±a-activa');
                p.classList.add('pesta√±a-oculta');
            });
            
            // Agregar active al seleccionado
            this.classList.add('active');
            document.getElementById(tabId).classList.remove('pesta√±a-oculta');
            document.getElementById(tabId).classList.add('pesta√±a-activa');
        });
    });
    
    // Agregar al carrito
    const btnAgregarCarrito = document.getElementById('btnAgregarCarrito');
    if (btnAgregarCarrito) {
        btnAgregarCarrito.addEventListener('click', function() {
            const quantity = cantidadInput ? parseInt(cantidadInput.value) : 1;
            const productId = this.getAttribute('data-product-id');
            
            // Mostrar estado de carga
            const originalHTML = this.innerHTML;
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Agregando...';
            this.disabled = true;
            
            // Enviar petici√≥n al servidor
            fetch(`/carrito/agregar/${productId}/`, {
                method: 'POST',
                headers: {
                    'X-Requested-With': 'XMLHttpRequest',
                    'X-CSRFToken': getCSRFToken(),
                },
                body: new URLSearchParams({
                    'quantity': quantity.toString(),
                    'csrfmiddlewaretoken': getCSRFToken()
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // √âxito
                    this.innerHTML = '<i class="fas fa-check"></i> ¬°Agregado!';
                    this.style.background = '#28a745';
                    this.style.borderColor = '#28a745';
                    
                    MasivoTechUtils.showToast(data.message, 'success');
                    
                    // Actualizar badge del carrito
                    if (window.cartManager) {
                        window.cartManager.updateGlobalCartBadge(data.cart_total_items);
                    }
                    
                    // Recargar panel del carrito si est√° abierto
                    if (window.cartPanelSimple) {
                        window.cartPanelSimple.reloadCartPanel();
                    }
                    
                    // Restaurar despu√©s de 2 segundos
                    setTimeout(() => {
                        this.innerHTML = originalHTML;
                        this.style.background = '';
                        this.style.borderColor = '';
                        this.disabled = false;
                    }, 2000);
                    
                } else {
                    // Error
                    throw new Error(data.message || 'Error al agregar al carrito');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                this.innerHTML = originalHTML;
                this.disabled = false;
                MasivoTechUtils.showToast(error.message, 'error');
            });
        });
    }
});
</script>
{% endblock %}

------market/marketplace/templates/marketplace/product_list.html------
{% extends 'marketplace/base.html' %}
{% load static %}

{% block extra_css %}
<style>
.products-header {
    background: var(--primary-gray);
    padding: 2rem 0;
    margin-bottom: 2rem;
}

.filter-sidebar {
    background: white;
    border-radius: var(--border-radius-lg);
    padding: 1.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.filter-section {
    margin-bottom: 2rem;
}

.filter-title {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--primary-black);
}

.filter-options {
    list-style: none;
    padding: 0;
    margin: 0;
}

.filter-option {
    margin-bottom: 0.5rem;
}

.filter-link {
    display: flex;
    align-items: center;
    padding: 0.5rem 0;
    color: var(--text-light);
    text-decoration: none;
    transition: color 0.2s ease;
}

.filter-link:hover,
.filter-link.active {
    color: var(--primary-black);
    font-weight: 500;
}

.filter-link.active {
    color: var(--accent-red);
}

.filter-icon {
    margin-right: 0.5rem;
    width: 16px;
    text-align: center;
}

.products-toolbar {
    display: flex;
    justify-content: between;
    align-items: center;
    margin-bottom: 2rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.results-count {
    color: var(--text-light);
    font-size: 0.875rem;
}

.sorting-options {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.sort-label {
    font-size: 0.875rem;
    color: var(--text-light);
    margin-right: 0.5rem;
}

.active-filters {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.filter-tag {
    background: var(--primary-gray);
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    font-size: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.filter-remove {
    background: none;
    border: none;
    color: var(--text-light);
    cursor: pointer;
    padding: 0;
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.filter-remove:hover {
    color: var(--accent-red);
}
</style>
{% endblock %}

{% block content %}
        <!-- üéØ Encabezado de P√°gina -->
        <div class="products-header">
            <div class="container">
                <div class="page-header">
                    <h1 class="page-title">
                        {% if search_query %}
                        <i class="fas fa-search me-2"></i>
                        Resultados para "{{ search_query }}"
                        {% elif selected_category %}
                        <i class="fas fa-{{ selected_category|slice:':3' }} me-2"></i>
                        {{ selected_category|title }}
                        {% else %}
                        <i></i>
                        Todos los Productos
                        {% endif %}
                    </h1>
                    
                    {% if search_query %}
                    <p class="page-subtitle">
                        Encontrados {{ products.count }} producto{{ products.count|pluralize }}
                        {% if selected_category %}en {{ selected_category }}{% endif %}
                    </p>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="container">
         <div class="products-layout">

            </div>
        </aside>
        <!-- üì¶ √Årea de Productos -->
        <main class="products-main">
            <!-- Barra de Herramientas -->
            <div class="products-toolbar">
                <!-- Contador de Resultados -->
                <div class="results-count">
                    <i class="fas fa-cube me-1"></i>
                    {{ products.count }} producto{{ products.count|pluralize }} encontrado{{ products.count|pluralize }}
                </div>

                <!-- Ordenamiento -->
                <div class="sorting-options">
                    <span class="sort-label">Ordenar por:</span>
                    <select class="form-select form-select-sm" onchange="window.location.href = updateUrlParameter('sort', this.value)">
                        <option value="name" {% if sort_by == 'name' %}selected{% endif %}>Nombre</option>
                        <option value="price_low" {% if sort_by == 'price_low' %}selected{% endif %}>Precio: Menor a Mayor</option>
                        <option value="price_high" {% if sort_by == 'price_high' %}selected{% endif %}>Precio: Mayor a Menor</option>
                        <option value="newest" {% if sort_by == 'newest' %}selected{% endif %}>M√°s Nuevos</option>
                    </select>
                </div>
            </div>

<!-- üì¶ Grid de Productoso -->
            <div class="products-grid">
                {% for product in products %}
                <div class="product-card" data-product-id="{{ product.id }}">
                    <div class="product-image-wrapper">
                        <a href="{% url 'product_detail' product.id %}" class="product-image-link">
                            {% if product.image %}
                            <img src="{{ product.image.url }}" 
                                alt="{{ product.name }}" 
                                class="product-img"
                                loading="lazy">
                            {% else %}
                            <div class="product-image-placeholder">
                                <i class="fas fa-gamepad"></i>
                            </div>
                            {% endif %}
                        </a>
                        
                        <!-- Badges compactos -->
                        <div class="product-badges">
                            {% if product.stock <= 0 %}
                            <span class="badge badge-out">
                                <i class="fas fa-ban"></i>
                                AGOTADO
                            </span>
                            {% elif product.stock < 5 %}
                            <span class="badge badge-warning">
                                <i class="fas fa-bolt"></i>
                                POCO STOCK
                            </span>
                            {% endif %}
                            
                            {% if product.created_at > now|date:"Y-m-d"|add:"-7 days" %}
                            <span class="badge badge-new">
                                <i class="fas fa-star"></i>
                                NUEVO
                            </span>
                            {% endif %}
                        </div>
                        
                        <!-- Quick Action -->
                        <div class="product-quick-action">
                            <button class="btn-quick-view" data-product-id="{{ product.id }}">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Informaci√≥n compacta -->
                    <div class="product-info">
                        <div class="product-category">
                            {{ product.get_category_display }}
                        </div>
                        
                        <h3 class="product-title">
                            <a href="{% url 'product_detail' product.id %}">
                                {{ product.name|truncatewords:4 }}
                            </a>
                        </h3>
                        
                        <div class="product-price-section">
                            <span class="product-price">{{ product.get_price_in_pesos }}</span>
                        </div>
                        
                        
                        <!-- Stock info compacta -->
                        <div class="product-stock">
                            {% if product.stock > 10 %}
                            <span class="stock-available">
                                <i class="fas fa-check-circle"></i>
                                En stock
                            </span>
                            {% elif product.stock > 0 %}
                            <span class="stock-low">
                                <i class="fas fa-exclamation-triangle"></i>
                                {{ product.stock }} disp.
                            </span>
                            {% else %}
                            <span class="stock-out">
                                <i class="fas fa-times-circle"></i>
                                Agotado
                            </span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Acciones compactas -->
                    <div class="product-actions">
                        {% if product.stock > 0 %}
                        <button type="button" 
                                class="btn btn-dark add-to-cart-btn" 
                                data-product-id="{{ product.id }}">
                            <i class="fas fa-cart-plus me-1"></i>
                            <span class="btn-text">Agregar</span>
                        </button>
                        {% else %}
                        <button class="btn btn-outline-dark" disabled>
                            <i class="fas fa-bell me-1"></i>
                            <span class="btn-text">Notificar</span>
                        </button>
                        {% endif %}
                    </div>
                </div>
                {% empty %}
                <!-- Estado vac√≠o que ocupa todo el ancho -->
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="fas fa-search fa-2x"></i>
                    </div>
                    <h3 class="empty-state-title">
                        {% if search_query %}
                        No se encontraron productos
                        {% elif selected_category %}
                        No hay productos en esta categor√≠a
                        {% else %}
                        No hay productos disponibles
                        {% endif %}
                    </h3>
                    <p class="empty-state-text">
                        {% if search_query %}
                        No hay resultados para "{{ search_query }}"
                        {% elif selected_category %}
                        Pr√≥ximamente agregaremos productos en "{{ selected_category|title }}"
                        {% else %}
                        Estamos actualizando nuestro cat√°logo
                        {% endif %}
                    </p>
                    <div class="empty-state-actions">
                        {% if search_query or selected_category %}
                        <a href="{% url 'product_list' %}" class="btn btn-dark btn-sm">
                            <i class="fas fa-times me-1"></i>
                            Limpiar Filtros
                        </a>
                        {% endif %}
                        <a href="{% url 'ofertas' %}" class="btn btn-outline-dark btn-sm">
                            <i class="fas fa-fire me-1"></i>
                            Ver Ofertas
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>

            <!-- Paginaci√≥n (para futura implementaci√≥n) -->
            {% if products.has_other_pages %}
            <nav class="products-pagination">
                <ul class="pagination">
                    {% if products.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ products.previous_page_number }}{% if search_query %}&q={{ search_query }}{% endif %}{% if selected_category %}&category={{ selected_category }}{% endif %}{% if sort_by != 'name' %}&sort={{ sort_by }}{% endif %}">
                            <i class="fas fa-chevron-left"></i>
                        </a>
                    </li>
                    {% endif %}

                    {% for num in products.paginator.page_range %}
                    <li class="page-item {% if products.number == num %}active{% endif %}">
                        <a class="page-link" href="?page={{ num }}{% if search_query %}&q={{ search_query }}{% endif %}{% if selected_category %}&category={{ selected_category }}{% endif %}{% if sort_by != 'name' %}&sort={{ sort_by }}{% endif %}">
                            {{ num }}
                        </a>
                    </li>
                    {% endfor %}

                    {% if products.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ products.next_page_number }}{% if search_query %}&q={{ search_query }}{% endif %}{% if selected_category %}&category={{ selected_category }}{% endif %}{% if sort_by != 'name' %}&sort={{ sort_by }}{% endif %}">
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </nav>
            {% endif %}
        </main>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Funci√≥n para actualizar par√°metros URL
function updateUrlParameter(param, value) {
    const url = new URL(window.location);
    url.searchParams.set(param, value);
    return url.toString();
}

// Inicializar funcionalidades espec√≠ficas
document.addEventListener('DOMContentLoaded', function() {
    // Mejorar experiencia de filtros
    const filterLinks = document.querySelectorAll('.filter-link');
    
    filterLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            // Agregar efecto de loading
            const productsGrid = document.querySelector('.products-grid');
            if (productsGrid) {
                productsGrid.classList.add('loading');
            }
        });
    });
    
    // Mejorar accesibilidad del dropdown de ordenamiento
    const sortSelect = document.querySelector('.form-select');
    if (sortSelect) {
        sortSelect.addEventListener('change', function() {
            // Mostrar indicador de loading
            MasivoTechUtils.showToast('Aplicando ordenamiento...', 'info');
        });
    }
});
</script>
{% endblock %}

------market/templates/account/login.html------
{% extends "marketplace/base.html" %}
{% load crispy_forms_tags %}

{% block extra_css %}
<style>
.hero-auth {
    background: #000;
    color: white;
    padding: 3rem 0 2rem;
    text-align: center;
}

.auth-badge {
    background: #fff;
    color: #000;
    padding: 0.6rem 1.5rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.85rem;
    display: inline-block;
    margin-bottom: 1rem;
}

.auth-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    border: 1px solid #e5e5e5;
    overflow: hidden;
    margin: 2rem auto;
    max-width: 400px;
}

.auth-header {
    background: #000;
    color: white;
    padding: 1.5rem;
    text-align: center;
}

.auth-body {
    padding: 2rem;
}

.auth-divider {
    text-align: center;
    margin: 1.5rem 0;
    position: relative;
}

.auth-divider::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: #e5e5e5;
}

.auth-divider span {
    background: white;
    padding: 0 1rem;
    color: #666;
    font-size: 0.9rem;
}

.btn-google {
    background: white;
    color: #333;
    border: 1px solid #e5e5e5;
    padding: 0.75rem;
    border-radius: 8px;
    transition: all 0.3s ease;
    text-decoration: none;
    display: block;
    text-align: center;
}

.btn-google:hover {
    border-color: #000;
    transform: translateY(-2px);
    text-decoration: none;
    color: #333;
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Auth -->
<section class="hero-auth">
    <div class="container">
        {% comment %} quitar 
        <div class="auth-badge">
            <i class="fas fa-sign-in-alt me-1"></i>
            INICIAR SESI√ìN
        </div> 
        {% endcomment %}
        <h1 class="h2 fw-bold mb-2">Bienvenido de nuevo</h1>
        <p class="lead mb-3">Acced√© a tu cuenta Masivo Tech</p>
    </div>
</section>

<!-- Login Form -->
<section class="main-content py-4">
    <div class="container">
        <div class="auth-card">
            <div class="auth-header">
                <h4 class="mb-0">Ingres√° a tu cuenta</h4>
            </div>
            
            <div class="auth-body">
                <!-- Formulario de Login Normal -->
                <form method="post" action="{% url 'account_login' %}">
                    {% csrf_token %}
                    
                    <div class="mb-3">
                        <label class="form-label small fw-bold">Email</label>
                        <input type="email" name="login" class="form-control form-control-sm" placeholder="tu@email.com" required>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label small fw-bold">Contrase√±a</label>
                        <input type="password" name="password" class="form-control form-control-sm" placeholder="Tu contrase√±a" required>
                    </div>
                    
                    {% if redirect_field_value %}
                    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                    {% endif %}
                    
                    <button type="submit" class="btn btn-dark w-100 mb-3 py-2">
                        <i class="fas fa-sign-in-alt me-2"></i>Ingresar
                    </button>
                    
                    <div class="text-center">
                        <a href="{% url 'account_reset_password' %}" class="text-muted small">
                            ¬øOlvidaste tu contrase√±a?
                        </a>
                    </div>
                </form>
                    
                <div class="auth-divider">
                    <span>o continu√° con</span>
                </div>

                <!-- Login con Google -->
            <div class="text-center">
                <p class="mb-3">O inicia sesi√≥n con:</p>
                <a href="/accounts/google/login/" class="btn btn-outline-danger w-100">
                    <i class="fab fa-google me-2"></i>Google
                </a>
            </div>

                <div class="text-center">
                    <p class="mb-0 small">
                        ¬øNo ten√©s cuenta? 
                        <a href="{% url 'account_signup' %}" class="text-dark fw-bold">Registrate aqu√≠</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

------market/templates/account/logout.html------
{% extends "marketplace/base.html" %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow">
                <div class="card-body text-center">
                    <h2 class="card-title mb-4">Cerrar Sesi√≥n</h2>
                    <p class="mb-4">¬øEst√°s seguro de que quieres cerrar sesi√≥n?</p>
                    
                    <form method="post" action="{% url 'account_logout' %}">
                        {% csrf_token %}
                        {% if redirect_field_value %}
                        <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}"/>
                        {% endif %}
                        
                        <button type="submit" class="btn btn-danger me-3">S√≠, Cerrar Sesi√≥n</button>
                        <a href="{% url 'index' %}" class="btn btn-secondary">Cancelar</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}


------market/templates/account/signup.html------
{% extends "marketplace/base.html" %}

{% block extra_css %}
<style>
.hero-auth {
    background: #000;
    color: white;
    padding: 3rem 0 2rem;
    text-align: center;
}

.auth-badge {
    background: #fff;
    color: #000;
    padding: 0.6rem 1.5rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.85rem;
    display: inline-block;
    margin-bottom: 1rem;
}

.auth-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    border: 1px solid #e5e5e5;
    overflow: hidden;
    margin: 2rem auto;
    max-width: 450px;
}

.auth-header {
    background: #000;
    color: white;
    padding: 1.5rem;
    text-align: center;
}

.auth-body {
    padding: 2rem;
}

.auth-divider {
    text-align: center;
    margin: 1.5rem 0;
    position: relative;
}

.auth-divider::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: #e5e5e5;
}

.auth-divider span {
    background: white;
    padding: 0 1rem;
    color: #666;
    font-size: 0.9rem;
}

.btn-google {
    background: white;
    color: #333;
    border: 1px solid #e5e5e5;
    padding: 0.75rem;
    border-radius: 8px;
    transition: all 0.3s ease;
    text-decoration: none;
    display: block;
    text-align: center;
    font-weight: 500;
}

.btn-google:hover {
    border-color: #000;
    transform: translateY(-2px);
    text-decoration: none;
    color: #333;
}

/* Estilos simples para errores */
.form-control {
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    margin-bottom: 0.5rem;
}

.form-control:focus {
    border-color: #000;
    box-shadow: 0 0 0 2px rgba(0,0,0,0.1);
}

.form-control.error {
    border-color: #dc3545;
    box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.1);
}

.error-message {
    color: #dc3545;
    font-size: 0.8rem;
    margin-bottom: 1rem;
    background: #f8d7da;
    padding: 0.5rem 0.75rem;
    border-radius: 6px;
    border-left: 4px solid #dc3545;
}

.alert-danger {
    background: #f8d7da;
    color: #721c24;
    border-left: 4px solid #dc3545;
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
}

.form-label {
    font-weight: 600;
    color: #333;
    margin-bottom: 0.5rem;
    display: block;
}

.password-hint {
    font-size: 0.8rem;
    color: #666;
    margin-bottom: 1rem;
    background: #f8f9fa;
    padding: 0.75rem;
    border-radius: 6px;
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Auth -->
<section class="hero-auth">
    <div class="container">
        <div class="auth-badge">
            <i class="fas fa-user-plus me-1"></i>
            CREAR CUENTA
        </div>
        <h1 class="h2 fw-bold mb-2">√önete a Masivo Tech</h1>
        <p class="lead mb-3">Crea tu cuenta en segundos</p>
    </div>
</section>

<!-- Signup Form -->
<section class="main-content py-4">
    <div class="container">
        <div class="auth-card">
            <div class="auth-header">
                <h4 class="mb-0">Crear Cuenta</h4>
            </div>
            
            <div class="auth-body">
                <!-- Errores generales -->
                {% if form.non_field_errors %}
                <div class="alert-danger">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    {% for error in form.non_field_errors %}
                    {{ error }}
                    {% endfor %}
                </div>
                {% endif %}

                <form method="post" action="{% url 'account_signup' %}">
                    {% csrf_token %}
                    
                    <!-- Email -->
                    <label class="form-label">Email</label>
                    <input type="email" 
                           name="email" 
                           class="form-control {% if form.email.errors %}error{% endif %}" 
                           placeholder="tu@email.com" 
                           required 
                           value="{{ form.email.value|default:'' }}">
                    {% if form.email.errors %}
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle me-1"></i>
                        {{ form.email.errors.0 }}
                    </div>
                    {% endif %}
                    
                    <!-- Username -->
                    <label class="form-label">Nombre de usuario</label>
                    <input type="text" 
                           name="username" 
                           class="form-control {% if form.username.errors %}error{% endif %}" 
                           placeholder="Elige un nombre de usuario" 
                           required
                           value="{{ form.username.value|default:'' }}">
                    {% if form.username.errors %}
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle me-1"></i>
                        {{ form.username.errors.0 }}
                    </div>
                    {% endif %}
                    
                    <!-- Contrase√±a -->
                    <label class="form-label">Contrase√±a</label>
                    <input type="password" 
                           name="password1" 
                           class="form-control {% if form.password1.errors %}error{% endif %}" 
                           placeholder="Crea una contrase√±a" 
                           required>
                    
                    <div class="password-hint">
                        <small>La contrase√±a debe tener al menos 8 caracteres y no ser completamente num√©rica.</small>
                    </div>
                    
                    {% if form.password1.errors %}
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle me-1"></i>
                        {{ form.password1.errors.0 }}
                    </div>
                    {% endif %}
                    
                    <!-- Confirmar Contrase√±a -->
                    <label class="form-label">Confirmar Contrase√±a</label>
                    <input type="password" 
                           name="password2" 
                           class="form-control {% if form.password2.errors %}error{% endif %}" 
                           placeholder="Repite tu contrase√±a" 
                           required>
                    {% if form.password2.errors %}
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle me-1"></i>
                        {{ form.password2.errors.0 }}
                    </div>
                    {% endif %}
                    
                    <!-- T√©rminos -->
                    <div style="margin: 1.5rem 0;">
                        <input type="checkbox" name="terms" id="terms" required style="margin-right: 0.5rem;">
                        <label for="terms" style="font-size: 0.9rem;">
                            Acepto los <a href="#" class="text-dark">T√©rminos</a> y <a href="#" class="text-dark">Privacidad</a>
                        </label>
                    </div>
                    
                    {% if redirect_field_value %}
                    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                    {% endif %}
                    
                    <button type="submit" class="btn btn-dark w-100 mb-3 py-2">
                        <i class="fas fa-user-plus me-2"></i>Crear Cuenta
                    </button>
                </form>

                <div class="auth-divider">
                    <span>o registrate con</span>
                </div>

                <a href="/accounts/google/login/?process=signup" class="btn btn-google w-100 mb-3">
                    <i class="fab fa-google me-2"></i>Google
                </a>

                <div class="text-center">
                    <p class="mb-0 small">
                        ¬øYa ten√©s cuenta? 
                        <a href="{% url 'account_login' %}" class="text-dark fw-bold">Inici√° sesi√≥n aqu√≠</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

------market/templates/socialaccount/authentication_error.html------
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error - Masivo Tech</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background: #000;
            color: white;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Inter', sans-serif;
        }
        
        .auth-card {
            background: white;
            color: #000;
            border-radius: 16px;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        .error-icon {
            font-size: 3rem;
            color: #dc3545;
            margin-bottom: 1rem;
        }
        
        .btn {
            padding: 0.75rem;
            border-radius: 8px;
            text-decoration: none;
            display: block;
            margin: 0.5rem 0;
            transition: all 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="auth-card">
        <div class="error-icon">
            <i class="fas fa-times-circle"></i>
        </div>
        
        <h4 class="mb-3 text-danger">Error de autenticaci√≥n</h4>
        
        <p class="mb-4 text-muted">
            Ocurri√≥ un error al intentar conectar con Google.<br>
            Por favor, intenta nuevamente.
        </p>

        <div class="d-grid gap-2">
            <a href="{% url 'account_login' %}" class="btn btn-dark">
                <i class="fas fa-arrow-left me-2"></i>Volver al login
            </a>
            <a href="{% url 'index' %}" class="btn btn-outline-dark">
                <i class="fas fa-home me-2"></i>Ir al inicio
            </a>
        </div>
    </div>
</body>
</html>

------market/templates/socialaccount/login.html------
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ingresar con Google - Masivo Tech</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background: #000;
            color: white;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Inter', sans-serif;
        }
        
        .auth-card {
            background: white;
            color: #000;
            border-radius: 16px;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        .auth-badge {
            background: #000;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            display: inline-block;
            margin-bottom: 1rem;
        }
        
        .btn-google {
            background: white;
            color: #333;
            border: 2px solid #e5e5e5;
            padding: 0.75rem;
            border-radius: 8px;
            text-decoration: none;
            display: block;
            margin: 1rem 0;
            transition: all 0.3s ease;
        }
        
        .btn-google:hover {
            border-color: #000;
            transform: translateY(-2px);
        }
        
        .btn-regular {
            background: #000;
            color: white;
            border: none;
            padding: 0.75rem;
            border-radius: 8px;
            text-decoration: none;
            display: block;
            transition: all 0.3s ease;
        }
        
        .btn-regular:hover {
            background: #333;
            color: white;
        }
    </style>
</head>
<body>
    <div class="auth-card">
        <div class="auth-badge">
            <i class="fas fa-sign-in-alt me-1"></i>
            INGRESAR CON GOOGLE
        </div>
        
        <h4 class="mb-3">Continuar con Google</h4>
        
        {% if process == "connect" %}
            <p class="mb-4 text-muted">
                ¬øQuieres conectar tu cuenta de Google a Masivo Tech?
            </p>
        {% else %}
            <p class="mb-4 text-muted">
                ¬øQuieres ingresar a Masivo Tech con tu cuenta de Google?
            </p>
        {% endif %}

        <!-- Formulario para Google -->
        <form method="post" action="{% url 'google_login' %}">
            {% csrf_token %}
            <button type="submit" class="btn-google w-100">
                <i class="fab fa-google me-2"></i>Continuar con Google
            </button>
        </form>

        <div class="mt-3">
            <p class="mb-2 small text-muted">o</p>
            
            {% if process == "connect" %}
                <a href="{% url 'profile' %}" class="btn-regular w-100">
                    <i class="fas fa-times me-2"></i>Cancelar
                </a>
            {% else %}
                <a href="{% url 'account_login' %}" class="btn-regular w-100">
                    <i class="fas fa-envelope me-2"></i>Ingresar con email
                </a>
            {% endif %}
        </div>
        
        <div class="mt-4 pt-3 border-top">
            <small class="text-muted">
                <i class="fas fa-shield-alt me-1"></i>
                Tu informaci√≥n est√° protegida
            </small>
        </div>
    </div>
</body>
</html>

------market/users/templates/users/change_password.html------
<!-- En: market/users/templates/users/change_password.html -->
{% extends "marketplace/base.html" %}
{% load crispy_forms_tags %}

{% block extra_css %}
<style>
.hero-profile {
    background: #000;
    color: white;
    padding: 3rem 0 2rem;
    text-align: center;
}

.profile-badge {
    background: #fff;
    color: #000;
    padding: 0.6rem 1.5rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.85rem;
    display: inline-block;
    margin-bottom: 1rem;
}

.profile-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    border: 1px solid #e5e5e5;
    overflow: hidden;
    margin: 2rem auto;
    max-width: 500px;
}

.profile-header {
    background: #000;
    color: white;
    padding: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.profile-body {
    padding: 2rem;
}

.security-icon {
    text-align: center;
    margin-bottom: 1.5rem;
}

.security-icon i {
    font-size: 3rem;
    color: #000;
    margin-bottom: 1rem;
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Profile -->
<section class="hero-profile">
    <div class="container">
        <div class="profile-badge">
            <i class="fas fa-lock me-1"></i>
            SEGURIDAD
        </div>
        <h1 class="h2 fw-bold mb-2">Cambiar Contrase√±a</h1>
        <p class="lead mb-3">Actualiz√° tu contrase√±a de acceso</p>
    </div>
</section>

<!-- Password Form -->
<section class="main-content py-4">
    <div class="container">
        <div class="profile-card">
            <div class="profile-header">
                <h4 class="mb-0">Contrase√±a</h4>
                <a href="{% url 'profile' %}" class="btn btn-outline-light btn-sm">
                    <i class="fas fa-arrow-left me-1"></i>Volver
                </a>
            </div>
            
            <div class="profile-body">
                <div class="security-icon">
                    <i class="fas fa-key"></i>
                    <h5 class="fw-bold">Nueva Contrase√±a</h5>
                </div>
                
                <form method="post">
                    {% csrf_token %}
                    {{ form|crispy }}
                    
                    <div class="d-flex gap-2 justify-content-end mt-4">
                        <a href="{% url 'profile' %}" class="btn btn-outline-dark">Cancelar</a>
                        <button type="submit" class="btn btn-dark">
                            <i class="fas fa-key me-1"></i>Cambiar Contrase√±a
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}

------market/users/templates/users/delete_account.html------
{% extends "marketplace/base.html" %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card border-danger">
                <div class="card-header bg-danger text-white">
                    <h4 class="mb-0"><i class="fas fa-exclamation-triangle me-2"></i>Eliminar Cuenta</h4>
                </div>
                <div class="card-body text-center">
                    <div class="mb-4">
                        <i class="fas fa-user-slash fa-4x text-danger mb-3"></i>
                        <h5 class="text-danger">¬øEst√°s seguro de que quer√©s eliminar tu cuenta?</h5>
                        <p class="text-muted">
                            Esta acci√≥n no se puede deshacer. Se perder√°n todos tus datos, 
                            historial de pedidos y informaci√≥n personal.
                        </p>
                    </div>

                    <div class="alert alert-warning">
                        <strong>Advertencia:</strong> Una vez eliminada la cuenta, no podr√°s recuperarla.
                    </div>

                    <form method="post">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label for="confirm_text" class="form-label">
                                Escribe <strong>"ELIMINAR CUENTA"</strong> para confirmar:
                            </label>
                            <input type="text" class="form-control" id="confirm_text" name="confirm_text" 
                                   placeholder="ELIMINAR CUENTA" required>
                        </div>
                        
                        <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                            <a href="{% url 'profile' %}" class="btn btn-secondary me-md-2">
                                <i class="fas fa-times me-1"></i>Cancelar
                            </a>
                            <button type="submit" class="btn btn-danger" id="deleteBtn" disabled>
                                <i class="fas fa-trash me-1"></i>S√≠, Eliminar Mi Cuenta
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Validaci√≥n de texto de confirmaci√≥n
document.getElementById('confirm_text').addEventListener('input', function() {
    var deleteBtn = document.getElementById('deleteBtn');
    var confirmText = this.value.trim();
    
    if (confirmText === 'ELIMINAR CUENTA') {
        deleteBtn.disabled = false;
    } else {
        deleteBtn.disabled = true;
    }
});
</script>
{% endblock %}

------market/users/templates/users/order_history.html------
{% extends "marketplace/base.html" %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2><i class="fas fa-shopping-bag me-2"></i>Mis Pedidos</h2>
                <a href="{% url 'profile' %}" class="btn btn-outline-secondary">
                    <i class="fas fa-arrow-left me-1"></i>Volver al Perfil
                </a>
            </div>

            {% if orders %}
            <div class="card">
                <div class="card-body">
                    {% for order in orders %}
                    <div class="order-card {% if not forloop.last %}mb-4 pb-4 border-bottom{% endif %}">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <div>
                                <h5 class="mb-1">Orden #{{ order.id }}</h5>
                                <p class="text-muted mb-1">
                                    <small>Realizado el: {{ order.created_at|date:"d/m/Y H:i" }}</small>
                                </p>
                                <span class="badge 
                                    {% if order.status == 'delivered' %}bg-success
                                    {% elif order.status == 'shipped' %}bg-info
                                    {% elif order.status == 'paid' %}bg-primary
                                    {% elif order.status == 'pending' %}bg-warning
                                    {% else %}bg-danger{% endif %}">
                                    {{ order.get_status_display }}
                                </span>
                            </div>
                            <div class="text-end">
                                <strong class="h5">${{ order.total }}</strong>
                                <p class="text-muted mb-0">
                                    <small>{{ order.items.count }} producto(s)</small>
                                </p>
                            </div>
                        </div>

                        <!-- Productos del pedido -->
                        <div class="row">
                            {% for item in order.items.all %}
                            <div class="col-md-6 mb-2">
                                <div class="d-flex align-items-center">
                                    {% if item.product.image %}
                                    <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}" 
                                         class="rounded me-3" width="50" height="50" style="object-fit: cover;">
                                    {% else %}
                                    <div class="bg-light rounded d-flex align-items-center justify-content-center me-3" 
                                         style="width: 50px; height: 50px;">
                                        <i class="fas fa-box text-secondary"></i>
                                    </div>
                                    {% endif %}
                                    <div>
                                        <h6 class="mb-0">{{ item.product.name }}</h6>
                                        <small class="text-muted">
                                            Cantidad: {{ item.quantity }} √ó ${{ item.price }}
                                        </small>
                                        <br>
                                        <small class="text-muted">
                                            Subtotal: ${{ item.quantity|floatformat:0|add:0 }}

                                        </small>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>

                        <!-- Informaci√≥n de env√≠o -->
                        <div class="mt-3 p-3 bg-light rounded">
                            <div class="row">
                                <div class="col-md-6">
                                    <small class="text-muted">
                                        <strong>Env√≠o a:</strong><br>
                                        {{ order.first_name }} {{ order.last_name }}<br>
                                        {{ order.address }}, {{ order.city }}<br>
                                        Tel: {{ order.phone }}
                                    </small>
                                </div>
                                <div class="col-md-6">
                                    <small class="text-muted">
                                        <strong>Contacto:</strong><br>
                                        {{ order.email }}<br>
                                        {% if order.mercadopago_id %}
                                        <strong>ID MercadoPago:</strong> {{ order.mercadopago_id }}
                                        {% endif %}
                                    </small>
                                </div>
                            </div>
                        </div>

                        <!-- Acciones del pedido -->
                        <div class="d-flex justify-content-end align-items-center mt-3">
                            {% if order.status == 'pending' %}
                            <a href="#" class="btn btn-outline-danger btn-sm">
                                <i class="fas fa-times me-1"></i>Cancelar Orden
                            </a>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% else %}
            <!-- Estado vac√≠o -->
            <div class="text-center py-5">
                <div class="mb-4">
                    <i class="fas fa-shopping-bag fa-4x text-muted"></i>
                </div>
                <h4 class="text-muted">A√∫n no ten√©s pedidos</h4>
                <p class="text-muted mb-4">Cuando realices tu primera compra, aparecer√° aqu√≠.</p>
                <a href="{% url 'product_list' %}" class="btn btn-primary">
                    <i class="fas fa-shopping-cart me-2"></i>Empezar a Comprar
                </a>
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

------market/users/templates/users/profile.html------
<!-- En: market/users/templates/users/profile.html -->
{% extends "marketplace/base.html" %}
{% load static %}

{% block extra_css %}
<style>
.hero-profile {
    background: #000;
    color: white;
    padding: 3rem 0 2rem;
    text-align: center;
}

.profile-badge {
    background: #fff;
    color: #000;
    padding: 0.6rem 1.5rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.85rem;
    display: inline-block;
    margin-bottom: 1rem;
}

.profile-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    border: 1px solid #e5e5e5;
    overflow: hidden;
    margin-bottom: 2rem;
}

.profile-header {
    background: #000;
    color: white;
    padding: 1.5rem;
    text-align: center;
}

.profile-body {
    padding: 2rem;
}

.avatar-large {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid #000;
    margin-bottom: 1rem;
}

.avatar-placeholder {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 2rem;
    margin-bottom: 1rem;
    border: 4px solid #000;
}

.info-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.info-item {
    padding: 0.75rem;
    background: #f8f9fa;
    border-radius: 8px;
}

.info-label {
    font-size: 0.8rem;
    color: #666;
    margin-bottom: 0.25rem;
}

.info-value {
    font-weight: 600;
    color: #000;
}

.actions-grid {
    display: grid;
    gap: 0.75rem;
}

.action-btn {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    text-decoration: none;
    color: #000;
    transition: all 0.3s ease;
}

.action-btn:hover {
    border-color: #000;
    transform: translateX(5px);
    text-decoration: none;
    color: #000;
}

.action-btn i {
    width: 20px;
    text-align: center;
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Profile -->
<section class="hero-profile">
    <div class="container">
        <div class="profile-badge">
            <i class="fas fa-user me-1"></i>
            MI PERFIL
        </div>
        <h1 class="h2 fw-bold mb-2">Tu Cuenta</h1>
        <p class="lead mb-3">Gestion√° tu informaci√≥n personal</p>
    </div>
</section>

<!-- Profile Content -->
<section class="main-content py-4">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="profile-card">
                    <div class="profile-header">
                        <h4 class="mb-0">Perfil</h4>
                    </div>
                    <div class="profile-body text-center">
                        {% if user.profile_picture %}
                            <img src="{{ user.profile_picture.url }}" alt="Avatar" class="avatar-large">
                        {% else %}
                            <div class="avatar-placeholder">
                                <i class="fas fa-user"></i>
                            </div>
                        {% endif %}
                        
                        <h5 class="fw-bold mb-1">{{ user.get_display_name }}</h5>
                        <p class="text-muted small mb-3">{{ user.email }}</p>
                        
                        <a href="{% url 'update_profile' %}" class="btn btn-outline-dark btn-sm">
                            <i class="fas fa-edit me-1"></i>Editar Perfil
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-md-8">
                <!-- Informaci√≥n Personal -->
                <div class="profile-card">
                    <div class="profile-header">
                        <h4 class="mb-0">Informaci√≥n Personal</h4>
                    </div>
                    <div class="profile-body">
                        <div class="info-grid">
                            <div class="info-item">
                                <div class="info-label">Nombre</div>
                                <div class="info-value">{{ user.first_name|default:"No especificado" }}</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Apellido</div>
                                <div class="info-value">{{ user.last_name|default:"No especificado" }}</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Email</div>
                                <div class="info-value">{{ user.email }}</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Tel√©fono</div>
                                <div class="info-value">{{ user.phone_number|default:"No especificado" }}</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Gesti√≥n de Cuenta -->
                <div class="profile-card">
                    <div class="profile-header">
                        <h4 class="mb-0">Gesti√≥n de Cuenta</h4>
                    </div>
                    <div class="profile-body">
                        <div class="actions-grid">
                            <a href="{% url 'order_history' %}" class="action-btn">
                                <i class="fas fa-shopping-bag"></i>
                                <div>
                                    <strong>Mis Pedidos</strong>
                                    <small class="text-muted d-block">Historial de compras</small>
                                </div>
                            </a>
                            
                            <a href="{% url 'change_password' %}" class="action-btn">
                                <i class="fas fa-lock"></i>
                                <div>
                                    <strong>Cambiar Contrase√±a</strong>
                                    <small class="text-muted d-block">Actualizar seguridad</small>
                                </div>
                            </a>
                            
                            <a href="{% url 'delete_account' %}" class="action-btn text-danger">
                                <i class="fas fa-trash"></i>
                                <div>
                                    <strong>Eliminar Cuenta</strong>
                                    <small class="text-muted d-block">Eliminar permanentemente</small>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

------market/users/templates/users/update_profile.html------
<!-- En: market/users/templates/users/update_profile.html -->
{% extends "marketplace/base.html" %}
{% load crispy_forms_tags %}

{% block extra_css %}
<style>
.hero-profile {
    background: #000;
    color: white;
    padding: 3rem 0 2rem;
    text-align: center;
}

.profile-badge {
    background: #fff;
    color: #000;
    padding: 0.6rem 1.5rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.85rem;
    display: inline-block;
    margin-bottom: 1rem;
}

.profile-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    border: 1px solid #e5e5e5;
    overflow: hidden;
    margin: 2rem auto;
    max-width: 600px;
}

.profile-header {
    background: #000;
    color: white;
    padding: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.profile-body {
    padding: 2rem;
}

.avatar-preview {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #000;
    margin-bottom: 1rem;
}

.avatar-preview-placeholder {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    margin-bottom: 1rem;
    border: 3px solid #000;
}
</style>
{% endblock %}

{% block content %}
<!-- Hero Profile -->
<section class="hero-profile">
    <div class="container">
        <div class="profile-badge">
            <i class="fas fa-edit me-1"></i>
            EDITAR PERFIL
        </div>
        <h1 class="h2 fw-bold mb-2">Actualizar Informaci√≥n</h1>
        <p class="lead mb-3">Modific√° tus datos personales</p>
    </div>
</section>

<!-- Edit Form -->
<section class="main-content py-4">
    <div class="container">
        <div class="profile-card">
            <div class="profile-header">
                <h4 class="mb-0">Editar Perfil</h4>
                <a href="{% url 'profile' %}" class="btn btn-outline-light btn-sm">
                    <i class="fas fa-arrow-left me-1"></i>Volver
                </a>
            </div>
            
            <div class="profile-body">
                <div class="text-center mb-4">
                    {% if user.profile_picture %}
                        <img src="{{ user.profile_picture.url }}" alt="Avatar" class="avatar-preview">
                    {% else %}
                        <div class="avatar-preview-placeholder">
                            <i class="fas fa-user"></i>
                        </div>
                    {% endif %}
                    <p class="text-muted small">Foto de perfil</p>
                </div>
                
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    {{ form|crispy }}
                    
                    <div class="d-flex gap-2 justify-content-end mt-4">
                        <a href="{% url 'profile' %}" class="btn btn-outline-dark">Cancelar</a>
                        <button type="submit" class="btn btn-dark">
                            <i class="fas fa-save me-1"></i>Guardar Cambios
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}

